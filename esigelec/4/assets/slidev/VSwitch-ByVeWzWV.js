import{t as N}from"../modules/shiki-D48LqqFv.js";import{d as T,r as v,G as y,H as E,I as R,h as c,T as K}from"../modules/vue-C8MITrMl.js";import{m as O,C as w,r as x,a as V,b as B,c as F,d as G,h as C}from"../index-anpmhDlv.js";import{u as M}from"./context-DOAuLIZd.js";const U=T({props:{at:{type:[Number,String],default:"+1"},unmount:{type:Boolean,default:!1},transition:{type:[Object,String,Boolean],default:!1},tag:{type:String,default:"div"},childTag:{type:String,default:"div"}},setup({at:S,unmount:_,transition:u,tag:f,childTag:h},{slots:g}){const I=Object.entries(g).sort((t,e)=>-t[0].split("-")[0]+ +e[0].split("-")[0]),o=[];let i;for(const[t,e]of I){const a=v();if(Number.isFinite(+t))o.push([+t,i??+t+1,e,a]),i=+t;else{const[s,r]=t.split("-").map(Number);if(!Number.isFinite(s)||!Number.isFinite(r))throw new Error(`Invalid range for v-switch: ${t}`);o.push([s,r,e,a]),i=s}}const L=Math.max(...o.map(t=>t[1]))-1,p=O(),n=v(0),{$clicksContext:l,$nav:b}=M();y(()=>{const t=l.calculateSince(S,L);if(!t){n.value=w;return}l.register(p,t),E(()=>{n.value=t.currentOffset.value+1})}),R(()=>{l.unregister(p)});function k(){C.value=!0,N()}const d=u&&{...x(u,b.value.navDirection<0),tag:f,onAfterLeave:k};return()=>{const t=[];for(let e=o.length-1;e>=0;e--){const[a,s,r,A]=o[e],m=a<=n.value&&n.value<s;_&&!m||t.push(c(h,{key:e,ref:A,class:[V,n.value===a&&B,n.value>=s&&F,!m&&G].filter(Boolean),"data-slidev-clicks-start":a,"data-slidev-clicks-end":s},r?.()))}return d?c(K,C.value?{}:d,()=>t):c(f,t)}}});export{U as _};
