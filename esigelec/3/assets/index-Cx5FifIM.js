const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/md-v7lwtahD.js","assets/modules/vue-CBjWhjL9.js","assets/slidev/context-DMsQxyod.js","assets/modules/shiki-CVg3NRUT.js","assets/modules/shiki-CozCpemh.css","assets/slidev/md-C_NHHmaM.js","assets/md-DdFFVL1i.js","assets/slidev/default-BEwVFixk.js","assets/md-CF0wzHY8.js","assets/slidev/VClicks-CdxYgnzw.js","assets/md-Djm55R1K.js","assets/slidev/section-1XE_lORR.js","assets/md-BpIBbx63.js","assets/md-eE6Db25b.js","assets/md-DGPnC_3o.js","assets/md-apOoTtDu.js","assets/md-CPwYxdcO.js","assets/md-BCW3fbxV.js","assets/slidev/quote-BD2a_sbz.js","assets/slidev/md-obBaSdEw.js","assets/md-6u7LK6J2.js","assets/cloud-containers-normal-C8xCsjD5.js","assets/md-gipKUjuC.js","assets/slidev/VSwitch-B_jtkHt9.js","assets/md-D2tI_O3y.js","assets/md-Dkg0GZM-.js","assets/md-wNOVY1yM.js","assets/md-ChkzB1c3.js","assets/rs-auto-healing-D0sMpqSm.js","assets/rs-scale-up-n4gAEebF.js","assets/md-DFmPPF6H.js","assets/slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-bh7GGtB_.js","assets/modules/unplugin-icons-C4J3KifI.js","assets/md-CC6OdSIs.js","assets/md-BK5WBiXS.js","assets/md-DXiSv54W.js","assets/md-DsolsYtH.js","assets/md-Ussh3u7S.js","assets/md-C7Uw0V7D.js","assets/md-BV38K2Kj.js","assets/md-DYgJ_XKR.js","assets/md-BwUcrzod.js","assets/deployment-normal-MXE5-Nvf.js","assets/md-CugwAh0t.js","assets/md-sp4ZRNGu.js","assets/md-CawqEhqa.js","assets/md-RTeectB5.js","assets/md-B_O_iAiU.js","assets/md-Bucy0_PL.js","assets/md-Bo6fmaFs.js","assets/md-tYcGllSn.js","assets/md-CqXi-vKR.js","assets/Mermaid.vue_vue_type_script_setup_true_lang-B9EZgr1F.js","assets/modules/file-saver-B7oFTzqn.js","assets/md-Ky93mC5o.js","assets/slidev/entry-CP2kAVbM.js","assets/entry-15QH0Q6e.css","assets/slidev/overview-BaJr-ap4.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-BD7MVPWs.js","assets/NoteDisplay-R4MfDMfa.css","assets/slidev/SlideWrapper-Df5hx-yb.js","assets/SlideWrapper-DoEfutxU.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-C_Ed-Nu5.js","assets/slidev/notes-m6wan2Jt.js","assets/slidev/presenter-D1e2jqcx.js","assets/slidev/shortcuts-D7xfLJ_Q.js","assets/shortcuts--Adx2Pgt.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-Bi7d6os8.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-Dqqe6yma.css","assets/slidev/play-CaLIckNy.js","assets/play-D_7yfuao.css","assets/slidev/404--5fpkxMq.js","assets/404-n_Eqdu3W.css"])))=>i.map(i=>d[i]);
import{z as _,at as _n,a5 as er,au as tr,R as lo,r as C,K as ct,S as nr,av as sr,aw as or,ae as co,N as ee,J as uo,ax as O,ay as rr,L as ir,f as kn,o as Vt,t as ar,d as fo,i as lr,F as cr,g as ts,Y as T,Z as Nn,az as ur,$ as Yt,p as dr,C as fr,aA as hr,aB as pr,aC as gr,aD as mr,M as B,aE as yr,aF as ho,aG as Zt,aH as vr,aa as po,aI as wr,aJ as br,aK as _r,aL as go,b as kr,a as Sr,ai as Mr,V as Tr,H as Or,a6 as $r,aM as Ar,aN as Er,aO as Lr,c as Cr}from"./modules/vue-CBjWhjL9.js";import{T as Pr}from"./modules/shiki-CVg3NRUT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const j={theme:"seriph",title:"Deployment in Kubernetes",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],download:!1,export:{},info:`<p>Course &quot;Kubernetes&quot;
Chapter 3: Deployment in Kubernetes</p>
`,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"PT Serif"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"PT Serif"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["PT Serif","PT Mono"],provider:"google",local:[],italic:!0,weights:["400","700"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,author:"Mincong HUANG",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"fade",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,seoMeta:{},background:"/assets/milad-fakurian-UiiHVEyxtyA-unsplash.jpg",class:"text-center",slidesTitle:"Deployment in Kubernetes - Slidev"};function Sn(t,e,n){return Math.min(n,Math.max(e,t))}function Dr(...t){return Ir(t).reduce((e,n)=>e+n,0)}function Rr(t){return t=t??[],Array.isArray(t)?t:[t]}function Ir(t){return Rr(t).flat(1)}function xr(t){return Array.from(new Set(t))}function ns(...t){let e,n,s;t.length===1?(e=0,s=1,[n]=t):[e,n,s=1]=t;const o=[];let r=e;for(;r<n;)o.push(r),r+=s||1;return o}function jr(t){return t!=null}function Nr(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>e(n,s)).filter(jr))}function Qc(t){return Object.keys(t).forEach(e=>t[e]===void 0?delete t[e]:{}),t}function Yc(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const s=e;e=void 0,s&&await s},n}const Zc="build",mo=_(()=>j.aspectRatio),yo=_(()=>j.canvasWidth),Hr=_(()=>Math.ceil(yo.value/mo.value)),qr=_(()=>Nr(j.themeConfig||{},(t,e)=>[`--slidev-theme-${t}`,e])),ln=j.slidesTitle,Xc="/esigelec/3/",Vr=[],Fr=new Set(["link","style","script","noscript"]),zr=new Set(["title","titleTemplate","script","style","noscript"]),ss=new Set(["base","meta","link","style","script","noscript"]),Br=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Wr=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Kr=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Ur=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Jr=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Mn(t,e={},n){for(const s in t){const o=t[s],r=n?`${n}:${s}`:s;typeof o=="object"&&o!==null?Mn(o,e,r):typeof o=="function"&&(e[r]=o)}return e}const Gr={run:t=>t()},Qr=()=>Gr,vo=typeof console.createTask<"u"?console.createTask:Qr;function Yr(t,e){const n=e.shift(),s=vo(n);return t.reduce((o,r)=>o.then(()=>s.run(()=>r(...e))),Promise.resolve())}function Zr(t,e){const n=e.shift(),s=vo(n);return Promise.all(t.map(o=>s.run(()=>o(...e))))}function cn(t,e){for(const n of[...t])n(e)}class Xr{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,s={}){if(!e||typeof n!="function")return()=>{};const o=e;let r;for(;this._deprecatedHooks[e];)r=this._deprecatedHooks[e],e=r.to;if(r&&!s.allowDeprecated){let i=r.message;i||(i=`${o} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let s,o=(...r)=>(typeof s=="function"&&s(),s=void 0,o=void 0,n(...r));return s=this.hook(e,o),s}removeHook(e,n){if(this._hooks[e]){const s=this._hooks[e].indexOf(n);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Mn(e),s=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const n=Mn(e);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(Yr,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(Zr,e,...n)}callHookWith(e,n,...s){const o=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&cn(this._before,o);const r=e(n in this._hooks?[...this._hooks[n]]:[],s);return r instanceof Promise?r.finally(()=>{this._after&&o&&cn(this._after,o)}):(this._after&&o&&cn(this._after,o),r)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function ei(){return new Xr}const ti=["name","property","http-equiv"],ni=new Set(["viewport","description","keywords","robots"]);function wo(t){const e=t.split(":");return e.length?Jr.has(e[1]):!1}function Tn(t){const{props:e,tag:n}=t;if(Wr.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const s of ti)if(e[s]!==void 0){const o=e[s],r=o.includes(":"),i=ni.has(o),l=!(r||i)&&t.key?`:key:${t.key}`:"";return`${n}:${o}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(zr.has(n)){const s=t.textContent||t.innerHTML;if(s)return`${n}:content:${s}`}}function os(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function Ft(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let o;if(e&&(o=e(n,t)),Array.isArray(o))return o.map(r=>Ft(r,e));if(o?.constructor===Object){const r={};for(const i of Object.keys(o))r[i]=Ft(o[i],e,i);return r}return o}function si(t,e){const n=t==="style"?new Map:new Set;function s(o){const r=o.trim();if(r)if(t==="style"){const[i,...a]=r.split(":").map(l=>l.trim());i&&a.length&&n.set(i,a.join(":"))}else r.split(" ").filter(Boolean).forEach(i=>n.add(i))}return typeof e=="string"?t==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,r])=>{r&&r!=="false"&&(t==="style"?n.set(o.trim(),r):s(o))}),n}function bo(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,s])=>{if(s===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=si(n,s);return}if(Kr.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof s=="object"){let i=e.type;if(e.type||(i="application/json"),!i?.endsWith("json")&&i!=="speculationrules")return;e.type=i,t.props.type=i,t[n]=JSON.stringify(s)}else t[n]=s;return}const o=String(s),r=n.startsWith("data-");o==="true"||o===""?t.props[n]=r?o:!0:!s&&r&&o==="false"?t.props[n]="false":s!==void 0&&(t.props[n]=s)}),t):t}function oi(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},s=bo({tag:t,props:{}},n);return s.key&&Fr.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function ri(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(o,r)=>{for(let i=0;i<e.length;i++)r=e[i](o,r);return r};t=n(void 0,t);const s=[];return t=Ft(t,n),Object.entries(t||{}).forEach(([o,r])=>{if(r!==void 0)for(const i of Array.isArray(r)?r:[r])s.push(oi(o,i))}),s.flat()}const rs=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,is={base:-10,title:10},ii={critical:-8,high:-1,low:2},as={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},ai=/@import/,ht=t=>t===""||t===!0;function li(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const s=ii[e.tagPriority]||0,o=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:as;if(e.tag in is)n=is[e.tag];else if(e.tag==="meta"){const r=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;r&&(n=as.meta[r])}else e.tag==="link"&&e.props.rel?n=o.link[e.props.rel]:e.tag==="script"?ht(e.props.async)?n=o.script.async:e.props.src&&!ht(e.props.defer)&&!ht(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=o.script.sync:ht(e.props.defer)&&e.props.src&&!ht(e.props.async)&&(n=o.script.defer):e.tag==="style"&&(n=e.innerHTML&&ai.test(e.innerHTML)?o.style.imported:o.style.sync);return(n||100)+s}function ls(t,e){const n=typeof e=="function"?e(t):e,s=n.key||String(t.plugins.size+1);t.plugins.get(s)||(t.plugins.set(s,n),t.hooks.addHooks(n.hooks||{}))}function ci(t={}){const e=ei();e.addHooks(t.hooks||{});const n=!t.document,s=new Map,o=new Map,r=new Set,i={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:s,headEntries(){return[...s.values()]},use:a=>ls(i,a),push(a,l){const c={...l||{}};delete c.head;const d=c._index??i._entryCount++,h={_i:d,input:a,options:c},f={_poll(u=!1){i.dirty=!0,!u&&r.add(d),e.callHook("entries:updated",i)},dispose(){s.delete(d)&&i.invalidate()},patch(u){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(h.input=u,s.set(d,h),f._poll())}};return f.patch(a),f},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...i.entries.values()]};for(await e.callHook("entries:resolve",a);r.size;){const f=r.values().next().value;r.delete(f);const u=s.get(f);if(u){const g={tags:ri(u.input,t.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",g),u._tags=g.tags.map((p,m)=>(p._w=li(i,p),p._p=(u._i<<10)+m,p._d=Tn(p),p))}}let l=!1;a.entries.flatMap(f=>(f._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(rs).reduce((f,u)=>{const g=String(u._d||u._p);if(!f.has(g))return f.set(g,u);const p=f.get(g);if((u?.tagDuplicateStrategy||(Ur.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([v,w])=>y[v]=v==="style"?new Map([...p.props.style||new Map,...w]):v==="class"?new Set([...p.props.class||new Set,...w]):w),f.set(g,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&wo(g)?(f.set(g,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&f.set(g,u);return f},a.tagMap);const c=a.tagMap.get("title"),d=a.tagMap.get("titleTemplate");if(i._title=c?.textContent,d){const f=d?.textContent;if(i._titleTemplate=f,f){let u=typeof f=="function"?f(c?.textContent):f;typeof u=="string"&&!i.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?a.tagMap.delete("title"):a.tagMap.set("title",{...c,textContent:u}):(d.tag="title",d.textContent=u)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(rs)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const h=[];for(const f of a.tags){const{innerHTML:u,tag:g,props:p}=f;if(Br.has(g)&&!(Object.keys(p).length===0&&!f.innerHTML&&!f.textContent)&&!(g==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(g==="script"&&u){if(p.type?.endsWith("json")){const m=typeof u=="string"?u:JSON.stringify(u);f.innerHTML=m.replace(/</g,"\\u003C")}else typeof u=="string"&&(f.innerHTML=u.replace(new RegExp(`</${g}`,"g"),`<\\/${g}`));f._d=Tn(f)}h.push(f)}}return h},invalidate(){for(const a of s.values())r.add(a._i);i.dirty=!0,e.callHook("entries:updated",i)}};return(t?.plugins||[]).forEach(a=>ls(i,a)),i.hooks.callHook("init",i),t.init?.forEach(a=>a&&i.push(a)),i}const ui=(t,e)=>er(e)?_n(e):e,_o="usehead";function di(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(_o,t)}}.install}function fi(){if(tr()){const t=lo(_o);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function hi(t,e={}){const n=e.head||fi();return n.ssr?n.push(t||{},e):pi(n,t,e)}function pi(t,e,n={}){const s=C(!1);let o;return ct(()=>{const i=s.value?{}:Ft(e,ui);o?o.patch(i):o=t.push(i,n)}),co()&&(nr(()=>{o.dispose()}),sr(()=>{s.value=!0}),or(()=>{s.value=!1})),o}function On(t){if(t===!1||t==="false")return null;if(t==null||t===!0||t==="true")return"+1";if(typeof t=="string"&&"+-".includes(t[0]))return t;const e=+t;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${t}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${t}, has been set to 1`),1):e}function gi(t){return Array.isArray(t)?[On(t[0]),On(t[1])]:null}function ko(t,e=0,n){const s=C(!1);let o=new Map,r=new Map;const i={get current(){return Sn(+t.value,e,i.total)},set current(a){t.value=s.value?Sn(a,e,i.total):a},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return r},get isMounted(){return s.value},setup(){uo(()=>{s.value=!0,r=O(r),rr(t)||(i.current=t.value)}),ir(()=>{s.value=!1,o=new Map,r=new Map})},calculateSince(a,l=1){const c=On(a);if(c==null)return null;let d,h,f;if(typeof c=="string"){const u=i.currentOffset,g=+c;d=u+g,h=u+g+l-1,f=g+l-1}else d=c,h=c+l-1,f=0;return{start:d,end:+Number.POSITIVE_INFINITY,max:h,delta:f,currentOffset:_(()=>i.current-d),isCurrent:_(()=>i.current===d),isActive:_(()=>i.current>=d)}},calculateRange(a){const l=gi(a);if(l==null)return null;const[c,d]=l;let h,f,u;return typeof c=="string"?(h=i.currentOffset+ +c,u=+c):(h=c,u=0),typeof d=="string"?(f=h+ +d,u+=+d):f=d,{start:h,end:f,max:f,delta:u,currentOffset:_(()=>i.current-h),isCurrent:_(()=>i.current===h),isActive:_(()=>h<=i.current&&i.current<f)}},calculate(a){return Array.isArray(a)?i.calculateRange(a):i.calculateSince(a)},register(a,l){if(!l)return;const{delta:c,max:d}=l;o.set(a,c),r.set(a,d)},unregister(a){o.delete(a),r.delete(a)},get currentOffset(){return Dr(...o.values())},get total(){return n??(s.value?Math.max(0,...r.values()):0)}};return i}function mi(t,e=0){const n=t?.meta.slide?.frontmatter.clicksStart??0,s=C(Math.max(_n(e),n));return ee(()=>_n(e),o=>{s.value=Math.max(o,n)}),ko(s,n,t?.meta?.clicks)}const yi="modulepreload",vi=function(t){return"/esigelec/3/"+t},cs={},M=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");o=l(n.map(c=>{if(c=vi(c),c in cs)return;cs[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":yi,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((u,g)=>{f.addEventListener("load",u),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},wi=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},bi={},_i={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function ki(t,e){return Vt(),kn("div",_i,ar("Failed to fetch this slide. Please check your network connection."))}const $=wi(bi,[["render",ki]]),Si={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Mi=fo({__name:"SlideLoading",setup(t){const e=C(!1);return uo(()=>{setTimeout(()=>{e.value=!0},200)}),(n,s)=>(Vt(),kn("div",Si,[e.value?(Vt(),kn(cr,{key:0},[s[0]||(s[0]=ts("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=ts("div",null,"Loading slide...",-1))],64)):lr("v-if",!0)]))}}),Ti={theme:"seriph",background:"/assets/milad-fakurian-UiiHVEyxtyA-unsplash.jpg",title:"Deployment in Kubernetes",author:"Mincong HUANG",info:`Course "Kubernetes"
Chapter 3: Deployment in Kubernetes
`,class:"text-center",highlighter:"shiki",drawings:{persist:!1},transition:"fade",mdc:!0},fe=T(Ti),Oi=O({get layout(){return fe.layout},get transition(){return fe.transition},get class(){return fe.class},get clicks(){return fe.clicks},get name(){return fe.name},get preload(){return fe.preload},slide:{content:"",revision:"tpro80",frontmatterRaw:`# try also 'default' to start simple
theme: seriph
# background: /assets/borderpolar-photographer-AMXFr97d00c-unsplash.jpg
background: /assets/milad-fakurian-UiiHVEyxtyA-unsplash.jpg
# some information about your slides, markdown enabled
title: Deployment in Kubernetes
author: Mincong HUANG
info: |
  Course "Kubernetes"
  Chapter 3: Deployment in Kubernetes

# apply any unocss classes to the current slide
class: text-center
# https://sli.dev/custom/highlighters.html
highlighter: shiki
# https://sli.dev/guide/drawing
drawings:
  persist: false
# slide transition: https://sli.dev/guide/animations#slide-transitions
transition: fade
# enable MDC Syntax: https://sli.dev/guide/syntax#mdc-syntax
mdc: true
`,note:"",title:"Deployment in Kubernetes",index:0,noteHTML:"",raw:"",frontmatter:fe,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),$i={layout:"image-right",image:"/assets/oxana-v-qoAIlAmLJBU-unsplash.jpg"},he=T($i),Ai=O({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"-peqni",frontmatterRaw:`layout: image-right
image: /assets/oxana-v-qoAIlAmLJBU-unsplash.jpg
`,note:"",title:"Chapters",level:1,index:1,noteHTML:"",raw:"",frontmatter:he,filepath:"",start:29,id:1,no:2},__clicksContext:null,__preloaded:!1}),Ei={},pe=T(Ei),Li=O({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"gnegtd",note:"",title:"Plan",level:1,index:2,noteHTML:"",raw:"",frontmatter:pe,filepath:"",start:47,id:2,no:3},__clicksContext:null,__preloaded:!1}),Ci={},ge=T(Ci),Pi=O({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"-zh5cg5",note:"",title:"Objectives",level:1,index:3,noteHTML:"",raw:"",frontmatter:ge,filepath:"",start:60,id:3,no:4},__clicksContext:null,__preloaded:!1}),Di={layout:"section"},me=T(Di),Ri=O({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"-c9xc2",frontmatterRaw:`layout: section
`,note:"",title:"Correction",level:1,index:4,noteHTML:"",raw:"",frontmatter:me,filepath:"",start:75,id:4,no:5},__clicksContext:null,__preloaded:!1}),Ii={},ye=T(Ii),xi=O({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"-ur4dy6",note:"",title:"Correction",level:1,index:5,noteHTML:"",raw:"",frontmatter:ye,filepath:"",start:84,id:5,no:6},__clicksContext:null,__preloaded:!1}),ji={layout:"section"},ve=T(ji),Ni=O({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-zbhddz",frontmatterRaw:`layout: section
`,note:"",title:"Motivation",level:1,index:6,noteHTML:"",raw:"",frontmatter:ve,filepath:"",start:93,id:6,no:7},__clicksContext:null,__preloaded:!1}),Hi={},we=T(Hi),qi=O({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"-dyplp9",note:"",title:"Deployment",level:1,index:7,noteHTML:"",raw:"",frontmatter:we,filepath:"",start:102,id:7,no:8},__clicksContext:null,__preloaded:!1}),Vi={},be=T(Vi),Fi=O({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"21964w",note:"",title:"Environments",level:1,index:8,noteHTML:`<p>We're talking about continuous delivery. An important thing to know is what is the target of the delivery, but the target of the delivery are environments that run your containers. In a typical example, a company has 3 environments: the development environment, the staging environment and the production environment. Usually, a development environment is the smallest environment and it is only used by yourself. The staging environment is a shared environment which may be a bit bigger and has some internal traffic. Pushing changes to the staging environment usually does not require any approval. Then, when it comes to the production environment, the scale is the biggest amount of all environments. Usually, it requires code review and approval from your colleague before doing so.</p>
`,raw:"",frontmatter:be,filepath:"",start:135,id:8,no:9},__clicksContext:null,__preloaded:!1}),zi={},_e=T(zi),Bi=O({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"-uf8w35",note:"",title:"CI/CD Architecture",level:1,index:9,noteHTML:`<p>Here is a reminder of the CI/CD architecture that we mentioned in the last lecture. Here, a developer develops the code using an editor and commits the changes to a Git repository. That repository used GitHub action as the CI provider to run tests and build a docker image. That Docker image is pushed to the registry. It also renders that Kubernetes manifests that are pushed to a CD pipeline, a continuous delivery pipeline. That CD pipeline deploys to Kubernetes which runs your containers in production.</p>
`,raw:"",frontmatter:_e,filepath:"",start:147,id:9,no:10},__clicksContext:null,__preloaded:!1}),Wi={layout:"quote"},ke=T(Wi),Ki=O({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"-lajcy3",frontmatterRaw:`layout: quote
`,note:"",title:"Deployment = Restarting all the containers? ðŸ¤”",level:1,index:10,noteHTML:"",raw:"",frontmatter:ke,filepath:"",start:160,id:10,no:11},__clicksContext:null,__preloaded:!1}),Ui={layout:"center"},Se=T(Ui),Ji=O({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"-33gtt",frontmatterRaw:`layout: center
`,note:"",title:"Error 503",level:1,index:11,noteHTML:"",raw:"",frontmatter:Se,filepath:"",start:166,id:11,no:12},__clicksContext:null,__preloaded:!1}),Gi={},Me=T(Gi),Qi=O({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"7wdrsw",note:"",title:"Deployment Strategy",level:1,index:12,noteHTML:`<p>Now let's get one step further into the environment. Inside an environment, a web application is usually orchestrated in the following way: there are three replicas, perhaps the first container is deployed in Paris, the second is deployed in Strasbourg, and the third one is deployed in Toulouse. This kind of topology is to ensure the high availability of your architecture. Whenever a zone has some failures, such as having a fire or a network issue, you would always have other replicas running in other zones that are not impacted by the incident. Containers are placed behind the load balancer: meaning that the incoming traffic from the customers can be routed to one of those containers.</p>
<p>Now the question is how do we deploy in such an architecture? That's what we're going to Discuss in the following slide, the deployment strategy.</p>
`,raw:"",frontmatter:Me,filepath:"",start:177,id:12,no:13},__clicksContext:null,__preloaded:!1}),Yi={},Te=T(Yi),Zi=O({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"-97btbj",note:"",title:"Deployment Strategy: Big Bang",level:1,index:13,noteHTML:`<p>The simplest deployment strategy is the Big Bang deployment, a Big Bang deployment shuts down all the containers at once and replaces them with a newer version. And then, it starts all the containers together.</p>
<p>The main advantage of this strategy is its simplicity. It is so simple that everyone can do it. It is convenient for side projects or any projects that do not have a strong requirement on the high availability. Its drawback is also obvious: it shuts down all the containers so it introduces a down time for customers.</p>
`,raw:"",frontmatter:Te,filepath:"",start:206,id:13,no:14},__clicksContext:null,__preloaded:!1}),Xi={},Oe=T(Xi),ea=O({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"95i6wo",note:"",title:"Deployment Strategy: Rolling",level:1,index:14,noteHTML:`<p>The second deployment strategy is a rolling update. A rolling update incrementally updates different parts of the system over time. Before the deployment, all the All these three containers are up and running. Now a deployment started, the first container will be shut down and replaced by a new version. During this time, it is detached from the load balancer, so the load balancer won't send traffic to this container. However, containers 2 and 3 keep running during the update. Now container 1 is started and running again. It's time for container 3 to be restarted. In this case, container 2 is detached from the load balancer and is restarted. Then the same logic applies to container 3. Finally, all the containers are replaced and running using the newer version.</p>
<p>The main benefit of this approach is the high availability for the customers. Typically, your customers won't notice the difference during the rolling update. This is great. Typically, this strategy is used by default for all the orchestration platforms. Handling a rolling upgrade approach is not trivial. However, this is handled by the cloud provider of the orchestration platform, so you shouldn't be worried about it. You may notice that the number of container might increase slightly during the rolling upgrade, because sometimes we introduce new containers as the intermediate containers during the upgrade. Maybe a container 4 or 5. But at the end of the deployment, the number of containers should be reduced and back to a stable number, the same number before the deployment.</p>
`,raw:"",frontmatter:Oe,filepath:"",start:242,id:14,no:15},__clicksContext:null,__preloaded:!1}),ta={},$e=T(ta),na=O({get layout(){return $e.layout},get transition(){return $e.transition},get class(){return $e.class},get clicks(){return $e.clicks},get name(){return $e.name},get preload(){return $e.preload},slide:{content:"",revision:"-50pj01",note:"",title:"Deployment Strategy: Blue/Green",level:1,index:15,noteHTML:`<p>Now the first deployment strategy is a blue/green deployment, a blue/green deployment will provision a newer version of containers altogether using the same number of replicas before switching the traffic. In this example, we have 3 containers running the new version and three containers running the old version. When the three new containers are provisioned, then the load balancer switches the target from the old container group to the new container group. And instantly all the customer traffic will go to the new group. Then we can safely delete the previous containers.</p>
<p>Compared to the rolling update approach, the main drawback is the cost, since we provision all the containers together, it means that the capacity we are allocating is doubled during the time of deployment. Therefore, we may need more machines to run this. Therefore, the cost is higher.</p>
<p>This example is typically Fit some stay for application, where a deployment takes time to complete Sometimes an application loads a lot of data into the memory or building the state of the machine. In this case, a rolling upgrade may be time-consuming. You want to have everything to be loaded together. The second concern is about the drawbacks. When you rolling updates something, rollback will also be done in a certain order. But the previous stack won't be available immediately. During the blue/green deployment, it is very easy to switch back to the previous option, since both groups are available during the deployment process. If something goes wrong, you can instantly switch back to the previous one. This is useful for stateful applications.</p>
`,raw:"",frontmatter:$e,filepath:"",start:295,id:15,no:16},__clicksContext:null,__preloaded:!1}),sa={layout:"section"},Ae=T(sa),oa=O({get layout(){return Ae.layout},get transition(){return Ae.transition},get class(){return Ae.class},get clicks(){return Ae.clicks},get name(){return Ae.name},get preload(){return Ae.preload},slide:{content:"",revision:"4iwdzt",frontmatterRaw:`layout: section
`,note:"",title:"ReplicaSet",level:1,index:16,noteHTML:"",raw:"",frontmatter:Ae,filepath:"",start:338,id:16,no:17},__clicksContext:null,__preloaded:!1}),ra={},Ee=T(ra),ia=O({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"mz42zp",note:"",title:"ReplicaSet",level:1,index:17,noteHTML:`<p>https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/</p>
<p>A ReplicaSet contains a stable set of pods.</p>
<ul>
<li>It is used to ensure that the desired number of identical Pods is running at any given time. In the example on the right side, we have a replica with 3 pods. It uses a pod template to specify the data of new Pods it should create to meet the number of replicas criteria.</li>
<li>A ReplicaSet is self-healing, meaning that if a pod managed by a ReplicaSet fails, it will automatically replace it with a new one.</li>
<li>It also makes scaling easy. You can scale the number of replicas up or down by modifying the ReplicaSet's configuration.</li>
</ul>
`,raw:"",frontmatter:Ee,filepath:"",start:347,id:17,no:18},__clicksContext:null,__preloaded:!1}),aa={},Le=T(aa),la=O({get layout(){return Le.layout},get transition(){return Le.transition},get class(){return Le.class},get clicks(){return Le.clicks},get name(){return Le.name},get preload(){return Le.preload},slide:{content:"",revision:"-mk0495",note:"",title:"ReplicaSet Manifest",level:1,index:18,noteHTML:`<p>The definition of the ReplicaSet manifest follows the same structure as other objects in Kubernetes, it consists of <code>apiVersion</code>, <code>kind</code>, <code>metadata</code>, and <code>spec</code>.</p>
<ul>
<li><code>apiVersion</code> is the version of the API for communications with the API server</li>
<li><code>kind</code> is the kind of the Kubernetes object</li>
<li><code>metadata</code> are information that uniquely identifies this ReplicaSet in the Kubernetes cluster</li>
<li><code>spec</code> defines the content and underlying resources managed by this ReplicaSet.</li>
</ul>
<p>It is worth noting that there are several labels in this example, which can be confusing. Here is a quick explanation:</p>
<ul>
<li><code>metadata.labels</code> are labels assigned to the ReplicaSet object itself.</li>
<li><code>spec.selector.matchLabels</code> defines which pods are managed by the ReplicaSet</li>
<li><code>spec.template.metadata.labels</code> are labels for the pods created by the ReplicaSet using the template. It should match the value of <code>matchLabels</code>. They are different because a ReplicaSet can manage pods that are not created by the ReplicaSet itself.</li>
</ul>
`,raw:"",frontmatter:Le,filepath:"",start:402,id:18,no:19},__clicksContext:null,__preloaded:!1}),ca={},Ce=T(ca),ua=O({get layout(){return Ce.layout},get transition(){return Ce.transition},get class(){return Ce.class},get clicks(){return Ce.clicks},get name(){return Ce.name},get preload(){return Ce.preload},slide:{content:"",revision:"36z736",note:"",title:"ReplicaSet and Control Plane",level:1,index:19,noteHTML:`<p>These pots are identical, meaning that they are provisioned using the same docker image. By doing so, we ensure the exact behavior of all the replicas so that requests can be handled in the same manner, no matter which pod receives traffic. The docker image is pulled from a container registry. Making pods identical also makes scaling easy, since each pod is exactly the same, as defined in the template.</p>
`,raw:"",frontmatter:Ce,filepath:"",start:483,id:19,no:20},__clicksContext:null,__preloaded:!1}),da={},Pe=T(da),fa=O({get layout(){return Pe.layout},get transition(){return Pe.transition},get class(){return Pe.class},get clicks(){return Pe.clicks},get name(){return Pe.name},get preload(){return Pe.preload},slide:{content:"",revision:"-95ub8e",note:"",title:"ReplicaSet: Self-Healing",level:1,index:20,noteHTML:`<p>A ReplicaSet has the notion of a health check to verify the health of each pod. If a pod fails to reply to the health check or reply an unhealthy status, then the replica set will remove this pod from the replicas set so that it won't impact the handling of the request. It also has the feature of auto-healing. When a pod is unhealthy, the ReplicaSet tries to restart the pod to turn it back to a healthy state.</p>
`,raw:"",frontmatter:Pe,filepath:"",start:497,id:20,no:21},__clicksContext:null,__preloaded:!1}),ha={},De=T(ha),pa=O({get layout(){return De.layout},get transition(){return De.transition},get class(){return De.class},get clicks(){return De.clicks},get name(){return De.name},get preload(){return De.preload},slide:{content:"",revision:"-e367o8",note:"",title:"ReplicaSet: Scaling",level:1,index:21,noteHTML:`<p>It can also scale up or down the number of replicas based on certain criteria so that we can have more capacity or less capacity to handle the requests from the client.</p>
<ul>
<li>ReplicaSet: Ensures a specified number of pod replicas are running at any given time. It doesn't automatically scale based on metrics like CPU or memory usage.</li>
<li>Horizontal Pod Autoscaler (HPA): This is the Kubernetes mechanism that can automatically scale the number of pod replicas in a ReplicaSet or Deployment based on observed CPU utilization or other select metrics. HPA continuously monitors the performance metrics of your pods and adjusts the number of replicas as needed.</li>
<li>Integration: When you set up HPA, you specify the target metrics and the ReplicaSet or Deployment it should manage. HPA will then automatically adjust the replicas field of the ReplicaSet based on the specified criteria.</li>
</ul>
`,raw:"",frontmatter:De,filepath:"",start:541,id:21,no:22},__clicksContext:null,__preloaded:!1}),ga={},Re=T(ga),ma=O({get layout(){return Re.layout},get transition(){return Re.transition},get class(){return Re.class},get clicks(){return Re.clicks},get name(){return Re.name},get preload(){return Re.preload},slide:{content:"",revision:"-7d91e5",note:"",title:"ReplicaSet Creation",level:1,index:22,noteHTML:`<p>But how does it work the ReplicaSet? When a user creates a ReplicaSet from <code>kubectl</code>, this request is sent to the API server. The API server then delegates the actual logic to the ReplicaSet controller. The controller watches the changes of ReplicaSet and then creates N Pods based on the number of replicas specified in the ReplicaSet value. Then, the scheduler of Kubernetes finds the node that is qualified for scheduling the pod. Once the pod is assigned to a node, the kubelet of the node runs the containers using Docker Runtime or another container runtime. Finally, kubelet reports the status back to the API server so that the replica controller can understand the status of the replica set.</p>
`,raw:"",frontmatter:Re,filepath:"",start:591,id:22,no:23},__clicksContext:null,__preloaded:!1}),ya={layout:"quote"},Ie=T(ya),va=O({get layout(){return Ie.layout},get transition(){return Ie.transition},get class(){return Ie.class},get clicks(){return Ie.clicks},get name(){return Ie.name},get preload(){return Ie.preload},slide:{content:"",revision:"jqv6he",frontmatterRaw:`layout: quote
`,note:"",title:"How does ReplicaSet manage Pods? ðŸ¤”",level:1,index:23,noteHTML:"",raw:"",frontmatter:Ie,filepath:"",start:604,id:23,no:24},__clicksContext:null,__preloaded:!1}),wa={},xe=T(wa),ba=O({get layout(){return xe.layout},get transition(){return xe.transition},get class(){return xe.class},get clicks(){return xe.clicks},get name(){return xe.name},get preload(){return xe.preload},slide:{content:"",revision:"yqulzq",note:"",title:"ReplicaSet Manifest",level:1,index:24,noteHTML:"",raw:"",frontmatter:xe,filepath:"",start:611,id:24,no:25},__clicksContext:null,__preloaded:!1}),_a={},je=T(_a),ka=O({get layout(){return je.layout},get transition(){return je.transition},get class(){return je.class},get clicks(){return je.clicks},get name(){return je.name},get preload(){return je.preload},slide:{content:"",revision:"1ji9dn",note:"",title:"Labels and Selectors",level:1,index:25,noteHTML:`<p>Labels and selectors</p>
<p>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</p>
<p>Labels are crucial in Kubernetes. It allows users to define key-value pairs to different objects based on their requirements such as the teams, their customers, their projects, the environment, tiers, etc. These concepts are user-oriented, they are not tight to the internals of Kubernetes.</p>
<p>Motivation: TBD</p>
<p>Labels are used by selectors. A selector defines a query on certain types of labels to find out the underlying resources. For example, the selector <code>app:nginx</code> finds out all the pods having the label <code>app:nginx</code>, are relevant for this selection. Selectors are fundamental for many concepts related to grouping, such as ReplicaSet, Deployment, StatefulSet, etc. So you must carefully learn and understand the notion of labels and selectors. It will help you to build further objects into Kubernetes. It's also helpful for troubleshooting since the <code>kubectl</code> command line also heavily relies on labels to find resources that match. certain criteria</p>
<p>Now let's take a look into the actual definition. Labels are defined under the <code>metadata</code> section of an object. Here, in the pod, there are two labels: environment=production and app=nginx. Here are some additional examples to help you understand in practice what could be the candidates for the labels. We can describe the release: whether it is stable or canary; we can describe the environment: whether it is a dev environment, qa or production; we can also use it for the tier, either front, backend, cache, database or something else; we can also use it to describe the partition for customer A, B, C or more; we can use it to define the track for deployment, whether it deploy daily, weekly or something else</p>
<p>There are two types of label selectors, an equality-based selector and a set-based selector. It is very easy to understand. An equality based selector requires you to provide one single value for the equation on the left side of the expression. On the right side of the expression, you need to provide the value that you want to query. Here are two examples where: &quot;environment&quot; is equal to &quot;production&quot;, and &quot;tier&quot; is different from &quot;frontend&quot;. The expression is slightly different from what you learn in Java, where we can use one single equal character <code>=</code> to express the equality operation. Now, for the set-based selector, it uses <code>in</code> or <code>notin</code> operator. On the left side of the operator, you specify the label that you want to query and on the right side of the operator, you select a set of values. It can be one or multiple values to be selected. In the first example, we have two values, &quot;production&quot;, &quot;qa&quot;. And in the 2nd example, we also have two values: &quot;frontend&quot; and &quot;backend&quot;. And then in the 3rd example, we simply query the existence of the label without knowing the values. In this case, it is &quot;partition&quot;. As far as the label &quot;partition&quot; exists in the resource. Regardless the value, it will be returned by the selector. Then the 4th example is the opposite of the 3rd example, where. The resource does not have label protection. It will be returned as a result.</p>
<p>Here are some examples of using a selector in kubectl. As you can see, we can query labels using the option <code>-l</code> or <code>--label</code>. In kubectl, you can get a list of pods by using the option. This can be used for other types of resources as well. The option can have a space or without a space. Then followed by one of multiple labels.</p>
`,raw:"",frontmatter:je,filepath:"",start:648,id:25,no:26},__clicksContext:null,__preloaded:!1}),Sa={layout:"section"},Ne=T(Sa),Ma=O({get layout(){return Ne.layout},get transition(){return Ne.transition},get class(){return Ne.class},get clicks(){return Ne.clicks},get name(){return Ne.name},get preload(){return Ne.preload},slide:{content:"",revision:"19uvbt",frontmatterRaw:`layout: section
`,note:"",title:"Deployment",level:1,index:26,noteHTML:"",raw:"",frontmatter:Ne,filepath:"",start:752,id:26,no:27},__clicksContext:null,__preloaded:!1}),Ta={},He=T(Ta),Oa=O({get layout(){return He.layout},get transition(){return He.transition},get class(){return He.class},get clicks(){return He.clicks},get name(){return He.name},get preload(){return He.preload},slide:{content:"",revision:"-iaq8no",note:"",title:"Deployment",level:1,index:27,noteHTML:`<p>Now let's talk about deployment. Another concept for representing a group of pods. Similar to many other types of Kubernetes objects, a Deployment consists of four sections in the manifest, the API version, the kind, the metadata, and the spec. The <code>apiVersion</code> &quot;apps/v1&quot; defines the version of the API, which is useful for communication with the API server for backboard compatibility concerns. For the section <code>kind</code>, the value is always deployment, which is the nature of the object. For the <code>metadata</code> section, it contains the name, the labels, and other optional fields to identify the resource. Then, the spec section contains all of important details for the deployment.</p>
<p>In this example, the first field is &quot;replicas&quot;. It defines the number of replicas in the deployment. Then there's the selector, which defines the matching between the Deployment and the underlying pods. Then we go into the &quot;template&quot; section. The &quot;template&quot; section contains the template for the pod, where we see the &quot;metadata&quot; and the &quot;spec&quot; again, but this time,  it's for the pod, not for the deployment. In metadata, we can see similar labels, where we see the container <code>nginx</code> with version 1.14.2 and the name <code>nginx</code>. It publishes the container port 80 for serving the traffic.</p>
<p>When you create a new deployment, it automatically creates a ReplicaSet to handle the underlying pods. Deployment is a high-level concept in Kubernetes, built on top of ReplicaSet.</p>
`,raw:"",frontmatter:He,filepath:"",start:761,id:27,no:28},__clicksContext:null,__preloaded:!1}),$a={},qe=T($a),Aa=O({get layout(){return qe.layout},get transition(){return qe.transition},get class(){return qe.class},get clicks(){return qe.clicks},get name(){return qe.name},get preload(){return qe.preload},slide:{content:"",revision:"-5gg1n0",note:"",title:"Deployment: Use Cases",level:1,index:28,noteHTML:"",raw:"",frontmatter:qe,filepath:"",start:815,id:28,no:29},__clicksContext:null,__preloaded:!1}),Ea={},Ve=T(Ea),La=O({get layout(){return Ve.layout},get transition(){return Ve.transition},get class(){return Ve.class},get clicks(){return Ve.clicks},get name(){return Ve.name},get preload(){return Ve.preload},slide:{content:"",revision:"-uyckry",note:"",title:"Deployment RollingUpdate",level:1,index:29,noteHTML:`<p>And this slide, we are going to see the behavior of a diploma rolling update and how it interacts with the underlying replica and the Pods. First of all, a deployment controls a replicaSet And they are two different objects in Kubernetes. The ReplicaSet points to the underlying pods, which are all identical containers deployed with the same docker image. Now, during a rolling update, the first step is to create a new replica set, ReplicaSet B. This new ReplicaSet has a new version of the Docker image to deploy. Let us say V2. Now, when the pod of V2 joins the replicaSet B, the deployment shuts down a pod from the previous replica so that it maintains a stable number of ready pods. Progressively, more and more new pods of version 2 join the replicaSet B and replace the ones in replicaSet 1. The deployment shuts down the pods in the previous ReplicaSet. At the end of the rolling update, the ReplicaSet A is empty, then it is removed. ReplicaSet B becomes the only ReplicaSet controlled by the deployment, serving the image V2. During the whole rolling update, the number of containers remains stable. Therefore, it can always respond to traffic, and the service is not interrupted. This is also called HA: high availability for the application, which is crucial for any online business.</p>
`,raw:"",frontmatter:Ve,filepath:"",start:838,id:29,no:30},__clicksContext:null,__preloaded:!1}),Ca={},Fe=T(Ca),Pa=O({get layout(){return Fe.layout},get transition(){return Fe.transition},get class(){return Fe.class},get clicks(){return Fe.clicks},get name(){return Fe.name},get preload(){return Fe.preload},slide:{content:"",revision:"45k2pp",note:"",title:"Deployment Strategy",level:1,index:30,noteHTML:"",raw:"",frontmatter:Fe,filepath:"",start:906,id:30,no:31},__clicksContext:null,__preloaded:!1}),Da={},ze=T(Da),Ra=O({get layout(){return ze.layout},get transition(){return ze.transition},get class(){return ze.class},get clicks(){return ze.clicks},get name(){return ze.name},get preload(){return ze.preload},slide:{content:"",revision:"sn5571",note:"",title:"Deployment Operations",level:1,index:31,noteHTML:"",raw:"",frontmatter:ze,filepath:"",start:922,id:31,no:32},__clicksContext:null,__preloaded:!1}),Ia={layout:"section"},Be=T(Ia),xa=O({get layout(){return Be.layout},get transition(){return Be.transition},get class(){return Be.class},get clicks(){return Be.clicks},get name(){return Be.name},get preload(){return Be.preload},slide:{content:"",revision:"-whhv4e",frontmatterRaw:`layout: section
`,note:"",title:"Production",level:1,index:32,noteHTML:"",raw:"",frontmatter:Be,filepath:"",start:972,id:32,no:33},__clicksContext:null,__preloaded:!1}),ja={},We=T(ja),Na=O({get layout(){return We.layout},get transition(){return We.transition},get class(){return We.class},get clicks(){return We.clicks},get name(){return We.name},get preload(){return We.preload},slide:{content:"",revision:"eb8c8f",note:"",title:"Deployment at Datadog",level:1,index:33,noteHTML:"",raw:"",frontmatter:We,filepath:"",start:981,id:33,no:34},__clicksContext:null,__preloaded:!1}),Ha={},Ke=T(Ha),qa=O({get layout(){return Ke.layout},get transition(){return Ke.transition},get class(){return Ke.class},get clicks(){return Ke.clicks},get name(){return Ke.name},get preload(){return Ke.preload},slide:{content:"",revision:"l7xt8o",note:"",title:"Graceful Shutdown",level:1,index:34,noteHTML:"",raw:"",frontmatter:Ke,filepath:"",start:1012,id:34,no:35},__clicksContext:null,__preloaded:!1}),Va={layout:"section"},Ue=T(Va),Fa=O({get layout(){return Ue.layout},get transition(){return Ue.transition},get class(){return Ue.class},get clicks(){return Ue.clicks},get name(){return Ue.name},get preload(){return Ue.preload},slide:{content:"",revision:"-qjqonr",frontmatterRaw:`layout: section
`,note:"",title:"Lab Session",level:1,index:35,noteHTML:"",raw:"",frontmatter:Ue,filepath:"",start:1056,id:35,no:36},__clicksContext:null,__preloaded:!1}),za={},Je=T(za),Ba=O({get layout(){return Je.layout},get transition(){return Je.transition},get class(){return Je.class},get clicks(){return Je.clicks},get name(){return Je.name},get preload(){return Je.preload},slide:{content:"",revision:"-i2o0v4",note:"",title:"Objectifs",level:1,index:36,noteHTML:"",raw:"",frontmatter:Je,filepath:"",start:1065,id:36,no:37},__clicksContext:null,__preloaded:!1}),Wa={},Ge=T(Wa),Ka=O({get layout(){return Ge.layout},get transition(){return Ge.transition},get class(){return Ge.class},get clicks(){return Ge.clicks},get name(){return Ge.name},get preload(){return Ge.preload},slide:{content:"",revision:"-8c2aso",note:"",title:"Microservices",level:1,index:37,noteHTML:"",raw:"",frontmatter:Ge,filepath:"",start:1095,id:37,no:38},__clicksContext:null,__preloaded:!1}),E=new Array(38),A=(t,e)=>ur({loader:e,delay:300,loadingComponent:Mi,errorComponent:$,onError:n=>console.error("Failed to load slide "+(t+1),n)}),us=async()=>{try{return E[0]??=await M(()=>import("./slidev/md-v7lwtahD.js"),__vite__mapDeps([0,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},ds=async()=>{try{return E[1]??=await M(()=>import("./slidev/md-C_NHHmaM.js"),__vite__mapDeps([5,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},fs=async()=>{try{return E[2]??=await M(()=>import("./md-DdFFVL1i.js"),__vite__mapDeps([6,1,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},hs=async()=>{try{return E[3]??=await M(()=>import("./md-CF0wzHY8.js"),__vite__mapDeps([8,9,1,2,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},ps=async()=>{try{return E[4]??=await M(()=>import("./md-Djm55R1K.js"),__vite__mapDeps([10,1,11,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},gs=async()=>{try{return E[5]??=await M(()=>import("./md-BpIBbx63.js"),__vite__mapDeps([12,1,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},ms=async()=>{try{return E[6]??=await M(()=>import("./md-eE6Db25b.js"),__vite__mapDeps([13,1,11,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},ys=async()=>{try{return E[7]??=await M(()=>import("./md-DGPnC_3o.js"),__vite__mapDeps([14,9,1,2,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},vs=async()=>{try{return E[8]??=await M(()=>import("./md-apOoTtDu.js"),__vite__mapDeps([15,1,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},ws=async()=>{try{return E[9]??=await M(()=>import("./md-CPwYxdcO.js"),__vite__mapDeps([16,1,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},bs=async()=>{try{return E[10]??=await M(()=>import("./md-BCW3fbxV.js"),__vite__mapDeps([17,1,18,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},_s=async()=>{try{return E[11]??=await M(()=>import("./slidev/md-obBaSdEw.js"),__vite__mapDeps([19,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},ks=async()=>{try{return E[12]??=await M(()=>import("./md-6u7LK6J2.js"),__vite__mapDeps([20,1,21,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ss=async()=>{try{return E[13]??=await M(()=>import("./md-gipKUjuC.js"),__vite__mapDeps([22,23,3,1,4,2,21,7]))}catch(t){return console.error("slide failed to load",t),$}},Ms=async()=>{try{return E[14]??=await M(()=>import("./md-D2tI_O3y.js"),__vite__mapDeps([24,23,3,1,4,2,21,7]))}catch(t){return console.error("slide failed to load",t),$}},Ts=async()=>{try{return E[15]??=await M(()=>import("./md-Dkg0GZM-.js"),__vite__mapDeps([25,23,3,1,4,2,7]))}catch(t){return console.error("slide failed to load",t),$}},Os=async()=>{try{return E[16]??=await M(()=>import("./md-wNOVY1yM.js"),__vite__mapDeps([26,1,11,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},$s=async()=>{try{return E[17]??=await M(()=>import("./md-ChkzB1c3.js"),__vite__mapDeps([27,23,3,1,4,2,28,29,7]))}catch(t){return console.error("slide failed to load",t),$}},As=async()=>{try{return E[18]??=await M(()=>import("./md-DFmPPF6H.js"),__vite__mapDeps([30,31,32,1,2,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Es=async()=>{try{return E[19]??=await M(()=>import("./md-CC6OdSIs.js"),__vite__mapDeps([33,1,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ls=async()=>{try{return E[20]??=await M(()=>import("./md-BK5WBiXS.js"),__vite__mapDeps([34,31,32,1,2,28,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Cs=async()=>{try{return E[21]??=await M(()=>import("./md-DXiSv54W.js"),__vite__mapDeps([35,31,32,1,2,29,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ps=async()=>{try{return E[22]??=await M(()=>import("./md-DsolsYtH.js"),__vite__mapDeps([36,1,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ds=async()=>{try{return E[23]??=await M(()=>import("./md-Ussh3u7S.js"),__vite__mapDeps([37,1,18,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Rs=async()=>{try{return E[24]??=await M(()=>import("./md-C7Uw0V7D.js"),__vite__mapDeps([38,31,32,1,2,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Is=async()=>{try{return E[25]??=await M(()=>import("./md-BV38K2Kj.js"),__vite__mapDeps([39,23,3,1,4,2,31,32,7]))}catch(t){return console.error("slide failed to load",t),$}},xs=async()=>{try{return E[26]??=await M(()=>import("./md-DYgJ_XKR.js"),__vite__mapDeps([40,1,11,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},js=async()=>{try{return E[27]??=await M(()=>import("./md-BwUcrzod.js"),__vite__mapDeps([41,31,32,1,2,42,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ns=async()=>{try{return E[28]??=await M(()=>import("./md-CugwAh0t.js"),__vite__mapDeps([43,9,1,2,42,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Hs=async()=>{try{return E[29]??=await M(()=>import("./md-sp4ZRNGu.js"),__vite__mapDeps([44,23,3,1,4,2,42,7]))}catch(t){return console.error("slide failed to load",t),$}},qs=async()=>{try{return E[30]??=await M(()=>import("./md-CawqEhqa.js"),__vite__mapDeps([45,9,1,2,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Vs=async()=>{try{return E[31]??=await M(()=>import("./md-RTeectB5.js"),__vite__mapDeps([46,9,1,2,31,32,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Fs=async()=>{try{return E[32]??=await M(()=>import("./md-B_O_iAiU.js"),__vite__mapDeps([47,1,11,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},zs=async()=>{try{return E[33]??=await M(()=>import("./md-Bucy0_PL.js"),__vite__mapDeps([48,9,1,2,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Bs=async()=>{try{return E[34]??=await M(()=>import("./md-Bo6fmaFs.js"),__vite__mapDeps([49,31,32,1,2,9,7,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ws=async()=>{try{return E[35]??=await M(()=>import("./md-tYcGllSn.js"),__vite__mapDeps([50,1,11,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ks=async()=>{try{return E[36]??=await M(()=>import("./md-CqXi-vKR.js"),__vite__mapDeps([51,52,1,53,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Us=async()=>{try{return E[37]??=await M(()=>import("./md-Ky93mC5o.js"),__vite__mapDeps([54,52,1,53,7,2,3,4]))}catch(t){return console.error("slide failed to load",t),$}},Ua=[{no:1,meta:Oi,load:us,component:A(0,us)},{no:2,meta:Ai,load:ds,component:A(1,ds)},{no:3,meta:Li,load:fs,component:A(2,fs)},{no:4,meta:Pi,load:hs,component:A(3,hs)},{no:5,meta:Ri,load:ps,component:A(4,ps)},{no:6,meta:xi,load:gs,component:A(5,gs)},{no:7,meta:Ni,load:ms,component:A(6,ms)},{no:8,meta:qi,load:ys,component:A(7,ys)},{no:9,meta:Fi,load:vs,component:A(8,vs)},{no:10,meta:Bi,load:ws,component:A(9,ws)},{no:11,meta:Ki,load:bs,component:A(10,bs)},{no:12,meta:Ji,load:_s,component:A(11,_s)},{no:13,meta:Qi,load:ks,component:A(12,ks)},{no:14,meta:Zi,load:Ss,component:A(13,Ss)},{no:15,meta:ea,load:Ms,component:A(14,Ms)},{no:16,meta:na,load:Ts,component:A(15,Ts)},{no:17,meta:oa,load:Os,component:A(16,Os)},{no:18,meta:ia,load:$s,component:A(17,$s)},{no:19,meta:la,load:As,component:A(18,As)},{no:20,meta:ua,load:Es,component:A(19,Es)},{no:21,meta:fa,load:Ls,component:A(20,Ls)},{no:22,meta:pa,load:Cs,component:A(21,Cs)},{no:23,meta:ma,load:Ps,component:A(22,Ps)},{no:24,meta:va,load:Ds,component:A(23,Ds)},{no:25,meta:ba,load:Rs,component:A(24,Rs)},{no:26,meta:ka,load:Is,component:A(25,Is)},{no:27,meta:Ma,load:xs,component:A(26,xs)},{no:28,meta:Oa,load:js,component:A(27,js)},{no:29,meta:Aa,load:Ns,component:A(28,Ns)},{no:30,meta:La,load:Hs,component:A(29,Hs)},{no:31,meta:Pa,load:qs,component:A(30,qs)},{no:32,meta:Ra,load:Vs,component:A(31,Vs)},{no:33,meta:xa,load:Fs,component:A(32,Fs)},{no:34,meta:Na,load:zs,component:A(33,zs)},{no:35,meta:qa,load:Bs,component:A(34,Bs)},{no:36,meta:Fa,load:Ws,component:A(35,Ws)},{no:37,meta:Ba,load:Ks,component:A(36,Ks)},{no:38,meta:Ka,load:Us,component:A(37,Us)}],se=Nn(Ua);function So(t,e){if(!e||e==="all"||e==="*")return ns(1,t+1);if(e==="none")return[];const n=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))n.push(+s);else{const[o,r]=s.split("-",2);n.push(...ns(+o,r?+r+1:t+1))}return xr(n).filter(s=>s<=t).sort((s,o)=>s-o)}const Xt="$$slidev-clicks-context",Hn="$$slidev-page",Mo="$$slidev-slide-element",Ja="$$slidev-slide-scale",Ga="$$slidev-context",eu="$$slidev-route",qn="$$slidev-render-context",Qa="$$slidev-fontmatter",Ya="$$slidev-slide-zoom",Rt="slidev-vclick-target",pt="slidev-vclick-hidden",gt="slidev-vclick-fade",un="slidev-vclick-hidden-explicitly",dn="slidev-vclick-current",fn="slidev-vclick-prior",tu="slidev-vclick-display-none",It=999999,Za=["localhost","127.0.0.1"],Xa=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],nu=[...Xa,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta"];function el(t,e,{mode:n="replace"}={}){const s=Yt();return _({get(){const o=s.currentRoute.value.query[t];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){dr(()=>{(s.currentRoute.value.query[t]??e?.toString())!==o.toString()&&s[fr(n)]({query:{...s.currentRoute.value.query,[t]:`${o}`===e?void 0:o}})})}})}function en(t){return se.value.find(e=>e.no===+t||e.meta.slide?.frontmatter.routeAlias===t)}function rt(t,e,n=!1){(typeof t=="number"||typeof t=="string")&&(t=en(t));const s=t.meta.slide?.frontmatter.routeAlias??t.no;return n?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}const tl={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function nl(t,e=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let n=t.name.includes("|")?t.name:tl[t.name]||t.name;if(n.includes("|")){const[s,o]=n.split("|").map(r=>r.trim());n=e?o:s}if(n)return{...t,name:n}}function sl(t,e,n){let s=t>0?n?.meta?.transition:e?.meta?.transition;return s||(s=j.transition||void 0),nl(s,t<0)}const su=C(!1),ou=C(!1),ru=C(!1),ol=C(!1),Vn=C(!1),iu=C(!1),au=C(!0),lu=yr({xs:460,...vr}),zt=pr(),cu=hr(),uu=_(()=>zt.height.value-zt.width.value/mo.value>120),du=gr(Zt?document.body:null),To=mr(),fu=_(()=>["INPUT","TEXTAREA"].includes(To.value?.tagName||"")),hu=_(()=>["BUTTON","A"].includes(To.value?.tagName||""));B("slidev-camera","default",{listenToStorageChanges:!1});B("slidev-mic","default",{listenToStorageChanges:!1});const rl=B("slidev-scale",0),pu=B("slidev-wake-lock",!0),gu=B("slidev-hide-cursor-idle",!0);B("slidev-skip-export-pdf-tip",!1);B("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const mu=B("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),il=B("slidev-show-editor",!1,{listenToStorageChanges:!1}),al=B("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),ll=B("slidev-editor-width",Zt?window.innerWidth*.4:318,{listenToStorageChanges:!1}),cl=B("slidev-editor-height",Zt?window.innerHeight*.4:300,{listenToStorageChanges:!1}),Ot=Nn(null),Bt=B("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),$t=B("slidev-presenter-layout",1,{listenToStorageChanges:!1}),$n={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},ul=B("slidev-viewer-css-filter",$n,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),yu=_(()=>Object.keys($n).some(t=>ul.value[t]!==$n[t]));function vu(){$t.value=$t.value+1,$t.value>3&&($t.value=1)}function wu(){Bt.value=Math.min(2,Bt.value+.1)}function bu(){Bt.value=Math.max(.5,Bt.value-.1)}const _u=ho(ol),At=B("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Oo(t,e,n=1){const s=e.meta.slide.level??n;s&&s>n&&t.length>0?Oo(t[t.length-1].children,e,n+1):t.push({no:e.no,children:[],level:n,titleLevel:s,path:rt(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function $o(t,e,n=!1,s,o){return t.map(r=>{const i={...r,active:r.no===o?.value,hasActiveParent:n};return i.children.length>0&&(i.children=$o(i.children,e,i.active||i.hasActiveParent,i,o)),s&&(i.active||i.activeParent)&&(s.activeParent=!0),i})}function Ao(t,e=1){return t.filter(n=>!n.hideInToc).map(n=>({...n,children:Ao(n.children,e+1)}))}function dl(t,e,n){const s=_(()=>t.value.filter(r=>r.meta?.slide?.title).reduce((r,i)=>(Oo(r,i),r),[])),o=_(()=>$o(s.value,n.value,void 0,void 0,e));return _(()=>Ao(o.value))}function fl(t,e,n=C(0),s,o,r){const i=_(()=>se.value.length),a=C(0),l=C(0),c=_(()=>rt(t.value,s.value)),d=_(()=>t.value.no),h=_(()=>t.value.meta?.layout||(d.value===1?"cover":"default")),f=_(()=>e.value.current),u=_(()=>e.value.clicksStart),g=_(()=>e.value.total),p=_(()=>se.value[Math.min(se.value.length,d.value+1)-1]),m=_(()=>se.value[Math.max(1,d.value-1)-1]),y=_(()=>d.value<se.value.length||f.value<g.value),v=_(()=>d.value>1||f.value>0),w=_(()=>o.value?void 0:sl(a.value,t.value,m.value));ee(t,(H,I)=>{a.value=H.no-I.no});async function b(H){return!1}const k=dl(se,d,t);async function P(){l.value=1,g.value<=n.value?await V():n.value+=1}async function R(){l.value=-1,n.value<=u.value?await K(!0):n.value-=1}async function V(H=!1){l.value=1,d.value<se.value.length&&await L(d.value+1,H&&!o.value?It:void 0)}async function K(H=!1){l.value=-1,d.value>1&&await L(d.value-1,H&&!o.value?It:void 0)}function le(){return L(1)}function Z(){return L(i.value)}async function L(H,I=0,ie=!1){Vn.value=!1;const ce=d.value!==H,ft=I!==n.value,G=en(H)?.meta,N=G?.slide?.frontmatter.clicksStart??0;I=Sn(I,N,G?.__clicksContext?.total??It),(ie||ce||ft)&&await r?.push({path:rt(H,s.value,r.currentRoute.value.name==="export"),query:{...r.currentRoute.value.query,clicks:I===0?void 0:I.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function D(){r?.push({path:rt(d.value,!0),query:{...r.currentRoute.value.query}})}function F(){r?.push({path:rt(d.value,!1),query:{...r.currentRoute.value.query}})}return{slides:se,total:i,currentPath:c,currentSlideNo:d,currentPage:d,currentSlideRoute:t,currentLayout:h,currentTransition:w,clicksDirection:l,nextRoute:p,prevRoute:m,clicksContext:e,clicks:f,clicksStart:u,clicksTotal:g,hasNext:y,hasPrev:v,tocTree:k,navDirection:a,openInEditor:b,next:P,prev:R,go:L,goLast:Z,goFirst:le,nextSlide:V,prevSlide:K,enterPresenter:D,exitPresenter:F}}const hl=po(()=>{const t=Yt(),e=wr(),n=_(()=>(t?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=_(()=>n.value.has("print")||e.name==="export"),o=C(n.value.get("print")==="clicks"),r=_(()=>n.value.has("embedded")),i=_(()=>e.name==="play"),a=_(()=>e.name==="presenter"),l=_(()=>e.name==="notes"),c=_(()=>!a.value&&(!j.remote||n.value.get("password")===j.remote)),d=_(()=>!!e.params.no),h=_(()=>d.value?en(e.params.no)?.no??1:1),f=_(()=>se.value[h.value-1]),u=C(So(se.value.length,e?.query?.range)),g=el("clicks","0"),p=_(()=>y(f.value)),m=_({get(){let v=+(g.value||0);return Number.isNaN(v)&&(v=0),v},set(v){Vn.value=!1,g.value=v.toString()}});function y(v){if(v?.meta?.__clicksContext)return v.meta.__clicksContext;const w=v.no,b=ko(_({get(){return h.value===w?Math.max(+(g.value??0),b.clicksStart):h.value>w?It:b.clicksStart},set(k){h.value===w&&(g.value=k.toString())}}),v?.meta.slide?.frontmatter.clicksStart??0,v?.meta.clicks);return v?.meta&&(v.meta.__clicksContext=b),b}return{router:t,currentRoute:_(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:r,isPlaying:i,isPresenter:a,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:d,currentSlideNo:h,currentSlideRoute:f,clicksContext:p,queryClicksRaw:g,queryClicks:m,printRange:u,getPrimaryClicks:y}}),dt=po(()=>{const t=hl(),e=Yt(),n=fl(t.currentSlideRoute,t.clicksContext,t.queryClicks,t.isPresenter,t.isPrintMode,e);return ee([n.total,t.currentRoute],async()=>{const s=t.currentRoute.value.params.no;t.hasPrimarySlide.value&&!en(s)&&(s&&s!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...t}}),Js=br(),hn=B("slidev-color-schema","auto"),Gs=_(()=>j.colorSchema!=="auto"),Eo=_({get(){return Gs.value?j.colorSchema==="dark":hn.value==="auto"?Js.value:hn.value==="dark"},set(t){Gs.value||(hn.value=t===Js.value?"auto":t?"dark":"light")}}),ku=ho(Eo);if(Zt){const t="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Eo,e=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(t)),window.document.head.appendChild(n);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function pl(){const{isPrintMode:t}=dt();_r(_(()=>t.value?`
@page {
  size: ${yo.value}px ${Hr.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Fn=Symbol.for("yaml.alias"),gl=Symbol.for("yaml.document"),Xe=Symbol.for("yaml.map"),Lo=Symbol.for("yaml.pair"),zn=Symbol.for("yaml.scalar"),St=Symbol.for("yaml.seq"),re=Symbol.for("yaml.node.type"),et=t=>!!t&&typeof t=="object"&&t[re]===Fn,tn=t=>!!t&&typeof t=="object"&&t[re]===gl,Co=t=>!!t&&typeof t=="object"&&t[re]===Xe,z=t=>!!t&&typeof t=="object"&&t[re]===Lo,q=t=>!!t&&typeof t=="object"&&t[re]===zn,Bn=t=>!!t&&typeof t=="object"&&t[re]===St;function Y(t){if(t&&typeof t=="object")switch(t[re]){case Xe:case St:return!0}return!1}function W(t){if(t&&typeof t=="object")switch(t[re]){case Fn:case Xe:case zn:case St:return!0}return!1}const Po=t=>(q(t)||Y(t))&&!!t.anchor,Qe=Symbol("break visit"),ml=Symbol("skip children"),wt=Symbol("remove node");function nn(t,e){const n=yl(e);tn(t)?it(null,t.contents,n,Object.freeze([t]))===wt&&(t.contents=null):it(null,t,n,Object.freeze([]))}nn.BREAK=Qe;nn.SKIP=ml;nn.REMOVE=wt;function it(t,e,n,s){const o=vl(t,e,n,s);if(W(o)||z(o))return wl(t,s,o),it(t,o,n,s);if(typeof o!="symbol"){if(Y(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const i=it(r,e.items[r],n,s);if(typeof i=="number")r=i-1;else{if(i===Qe)return Qe;i===wt&&(e.items.splice(r,1),r-=1)}}}else if(z(e)){s=Object.freeze(s.concat(e));const r=it("key",e.key,n,s);if(r===Qe)return Qe;r===wt&&(e.key=null);const i=it("value",e.value,n,s);if(i===Qe)return Qe;i===wt&&(e.value=null)}}return o}function yl(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function vl(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(Co(e))return n.Map?.(t,e,s);if(Bn(e))return n.Seq?.(t,e,s);if(z(e))return n.Pair?.(t,e,s);if(q(e))return n.Scalar?.(t,e,s);if(et(e))return n.Alias?.(t,e,s)}function wl(t,e,n){const s=e[e.length-1];if(Y(s))s.items[t]=n;else if(z(s))t==="key"?s.key=n:s.value=n;else if(tn(s))s.contents=n;else{const o=et(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function Do(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function vt(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,r=s.length;o<r;++o){const i=s[o],a=vt(t,s,String(o),i);a===void 0?delete s[o]:a!==i&&(s[o]=a)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const r=s.get(o),i=vt(t,s,o,r);i===void 0?s.delete(o):i!==r&&s.set(o,i)}else if(s instanceof Set)for(const o of Array.from(s)){const r=vt(t,s,o,o);r===void 0?s.delete(o):r!==o&&(s.delete(o),s.add(r))}else for(const[o,r]of Object.entries(s)){const i=vt(t,s,o,r);i===void 0?delete s[o]:i!==r&&(s[o]=i)}return t.call(e,n,s)}function oe(t,e,n){if(Array.isArray(t))return t.map((s,o)=>oe(s,String(o),n));if(t&&typeof t.toJSON=="function"){if(!n||!Po(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const o=t.toJSON(e,n);return n.onCreate&&n.onCreate(o),o}return typeof t=="bigint"&&!n?.keep?Number(t):t}class Wn{constructor(e){Object.defineProperty(this,re,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:r}={}){if(!tn(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=oe(this,"",i);if(typeof o=="function")for(const{count:l,res:c}of i.anchors.values())o(c,l);return typeof r=="function"?vt(r,{"":a},"",a):a}}class bl extends Wn{constructor(e){super(Fn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],nn(e,{Node:(r,i)=>{(et(i)||Po(i))&&s.push(i)}}),n&&(n.aliasResolveCache=s));let o;for(const r of s){if(r===this)break;r.anchor===this.source&&(o=r)}return o}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:r}=n,i=this.resolve(o,n);if(!i){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(i);if(a||(oe(i,null,n),a=s.get(i)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=xt(o,i,s)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const o=`*${this.source}`;if(e){if(Do(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${o} `}return o}}function xt(t,e,n){if(et(e)){const s=e.resolve(t),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}else if(Y(e)){let s=0;for(const o of e.items){const r=xt(t,o,n);r>s&&(s=r)}return s}else if(z(e)){const s=xt(t,e.key,n),o=xt(t,e.value,n);return Math.max(s,o)}return 1}const Ro=t=>!t||typeof t!="function"&&typeof t!="object";class x extends Wn{constructor(e){super(zn),this.value=e}toJSON(e,n){return n?.keep?this.value:oe(this.value,e,n)}toString(){return String(this.value)}}x.BLOCK_FOLDED="BLOCK_FOLDED";x.BLOCK_LITERAL="BLOCK_LITERAL";x.PLAIN="PLAIN";x.QUOTE_DOUBLE="QUOTE_DOUBLE";x.QUOTE_SINGLE="QUOTE_SINGLE";function _l(t,e,n){return n.find(s=>s.identify?.(t)&&!s.format)}function Wt(t,e,n){if(tn(t)&&(t=t.contents),W(t))return t;if(z(t)){const h=n.schema[Xe].createNode?.(n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:r,schema:i,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=o(t)),new bl(l.anchor);l={anchor:null,node:null},a.set(t,l)}let c=_l(t,e,i.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const h=new x(t);return l&&(l.node=h),h}c=t instanceof Map?i[Xe]:Symbol.iterator in Object(t)?i[St]:i[Xe]}r&&(r(c),delete n.onTagObj);const d=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new x(t);return c.default||(d.tag=c.tag),l&&(l.node=d),d}function Qs(t,e,n){let s=n;for(let o=e.length-1;o>=0;--o){const r=e[o];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const i=[];i[r]=s,s=i}else s=new Map([[r,s]])}return Wt(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const kl=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Io extends Wn{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>W(s)||z(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(kl(e))this.add(n);else{const[s,...o]=e,r=this.get(s,!0);if(Y(r))r.addIn(o,n);else if(r===void 0&&this.schema)this.set(s,Qs(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const o=this.get(n,!0);if(Y(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...o]=e,r=this.get(s,!0);return o.length===0?!n&&q(r)?r.value:r:Y(r)?r.getIn(o,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!z(n))return!1;const s=n.value;return s==null||e&&q(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const o=this.get(n,!0);return Y(o)?o.hasIn(s):!1}setIn(e,n){const[s,...o]=e;if(o.length===0)this.set(s,n);else{const r=this.get(s,!0);if(Y(r))r.setIn(o,n);else if(r===void 0&&this.schema)this.set(s,Qs(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const Sl=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function kt(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const at=(t,e,n)=>t.endsWith(`
`)?kt(n,e):n.includes(`
`)?`
`+kt(n,e):(t.endsWith(" ")?"":" ")+n,xo="flow",An="block",jt="quoted";function sn(t,e,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:r=20,onFold:i,onOverflow:a}={}){if(!o||o<0)return t;o<r&&(r=0);const l=Math.max(1+r,1+o-e.length);if(t.length<=l)return t;const c=[],d={};let h=o-e.length;typeof s=="number"&&(s>o-Math.max(2,r)?c.push(0):h=o-s);let f,u,g=!1,p=-1,m=-1,y=-1;n===An&&(p=Ys(t,p,e.length),p!==-1&&(h=p+l));for(let w;w=t[p+=1];){if(n===jt&&w==="\\"){switch(m=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(w===`
`)n===An&&(p=Ys(t,p,e.length)),h=p+e.length+l,f=void 0;else{if(w===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const b=t[p+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(f=p)}if(p>=h)if(f)c.push(f),h=f+l,f=void 0;else if(n===jt){for(;u===" "||u==="	";)u=w,w=t[p+=1],g=!0;const b=p>y+1?p-2:m-1;if(d[b])return t;c.push(b),d[b]=!0,h=b+l,f=void 0}else g=!0}u=w}if(g&&a&&a(),c.length===0)return t;i&&i();let v=t.slice(0,c[0]);for(let w=0;w<c.length;++w){const b=c[w],k=c[w+1]||t.length;b===0?v=`
${e}${t.slice(0,k)}`:(n===jt&&d[b]&&(v+=`${t[b]}\\`),v+=`
${e}${t.slice(b+1,k)}`)}return v}function Ys(t,e,n){let s=e,o=e+1,r=t[o];for(;r===" "||r==="	";)if(e<o+n)r=t[++e];else{do r=t[++e];while(r&&r!==`
`);s=e,o=e+1,r=t[o]}return s}const on=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),rn=t=>/^(%|---|\.\.\.)/m.test(t);function Ml(t,e,n){if(!e||e<0)return!1;const s=e-n,o=t.length;if(o<=s)return!1;for(let r=0,i=0;r<o;++r)if(t[r]===`
`){if(r-i>s)return!0;if(i=r+1,o-i<=s)return!1}return!0}function bt(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(rn(t)?"  ":"");let i="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(i+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{i+=n.slice(a,l);const d=n.substr(l+2,4);switch(d){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:d.substr(0,2)==="00"?i+="\\x"+d.substr(2):i+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<o)l+=1;else{for(i+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)i+=`
`,l+=2;i+=r,n[l+2]===" "&&(i+="\\"),l+=1,a=l+1}break;default:l+=1}return i=a?i+n.slice(a):n,s?i:sn(i,r,jt,on(e,!1))}function En(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return bt(t,e);const n=e.indent||(rn(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:sn(s,n,xo,on(e,!1))}function lt(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=bt;else{const o=t.includes('"'),r=t.includes("'");o&&!r?s=En:r&&!o?s=bt:s=n?En:bt}return s(t,e)}let Ln;try{Ln=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Ln=/\n+(?!\n|$)/g}function Nt({comment:t,type:e,value:n},s,o,r){const{blockQuote:i,commentString:a,lineWidth:l}=s.options;if(!i||/\n[\t ]+$/.test(n))return lt(n,s);const c=s.indent||(s.forceBlockIndent||rn(n)?"  ":""),d=i==="literal"?!0:i==="folded"||e===x.BLOCK_FOLDED?!1:e===x.BLOCK_LITERAL?!0:!Ml(n,l,c.length);if(!n)return d?`|
`:`>
`;let h,f;for(f=n.length;f>0;--f){const k=n[f-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let u=n.substring(f);const g=u.indexOf(`
`);g===-1?h="-":n===u||g!==u.length-1?(h="+",r&&r()):h="",u&&(n=n.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(Ln,`$&${c}`));let p=!1,m,y=-1;for(m=0;m<n.length;++m){const k=n[m];if(k===" ")p=!0;else if(k===`
`)y=m;else break}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let b=(p?c?"2":"1":"")+h;if(t&&(b+=" "+a(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!d){const k=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let P=!1;const R=on(s,!0);i!=="folded"&&e!==x.BLOCK_FOLDED&&(R.onOverflow=()=>{P=!0});const V=sn(`${v}${k}${u}`,c,An,R);if(!P)return`>${b}
${c}${V}`}return n=n.replace(/\n+/g,`$&${c}`),`|${b}
${c}${v}${n}${u}`}function Tl(t,e,n,s){const{type:o,value:r}=t,{actualString:i,implicitKey:a,indent:l,indentStep:c,inFlow:d}=e;if(a&&r.includes(`
`)||d&&/[[\]{},]/.test(r))return lt(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||d||!r.includes(`
`)?lt(r,e):Nt(t,e,n,s);if(!a&&!d&&o!==x.PLAIN&&r.includes(`
`))return Nt(t,e,n,s);if(rn(r)){if(l==="")return e.forceBlockIndent=!0,Nt(t,e,n,s);if(a&&l===c)return lt(r,e)}const h=r.replace(/\n+/g,`$&
${l}`);if(i){const f=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(h),{compat:u,tags:g}=e.doc.schema;if(g.some(f)||u?.some(f))return lt(r,e)}return a?h:sn(h,l,xo,on(e,!1))}function Ol(t,e,n,s){const{implicitKey:o,inFlow:r}=e,i=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==x.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(a=x.QUOTE_DOUBLE);const l=d=>{switch(d){case x.BLOCK_FOLDED:case x.BLOCK_LITERAL:return o||r?lt(i.value,e):Nt(i,e,n,s);case x.QUOTE_DOUBLE:return bt(i.value,e);case x.QUOTE_SINGLE:return En(i.value,e);case x.PLAIN:return Tl(i,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:d,defaultStringType:h}=e.options,f=o&&d||h;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function $l(t,e){const n=Object.assign({blockQuote:!0,commentString:Sl,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Al(t,e){if(e.tag){const o=t.filter(r=>r.tag===e.tag);if(o.length>0)return o.find(r=>r.format===e.format)??o[0]}let n,s;if(q(e)){s=e.value;let o=t.filter(r=>r.identify?.(s));if(o.length>1){const r=o.filter(i=>i.test);r.length>0&&(o=r)}n=o.find(r=>r.format===e.format)??o.find(r=>!r.format)}else s=e,n=t.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!n){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return n}function El(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],r=(q(t)||Y(t))&&t.anchor;r&&Do(r)&&(n.add(r),o.push(`&${r}`));const i=t.tag??(e.default?null:e.tag);return i&&o.push(s.directives.tagString(i)),o.join(" ")}function Kt(t,e,n,s){if(z(t))return t.toString(e,n,s);if(et(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o;const r=W(t)?t:e.doc.createNode(t,{onTagObj:l=>o=l});o??(o=Al(e.doc.schema.tags,r));const i=El(r,o,e);i.length>0&&(e.indentAtStart=(e.indentAtStart??0)+i.length+1);const a=typeof o.stringify=="function"?o.stringify(r,e,n,s):q(r)?Ol(r,e,n,s):r.toString(e,n,s);return i?q(r)||a[0]==="{"||a[0]==="["?`${i} ${a}`:`${i}
${e.indent}${a}`:a}function Ll({key:t,value:e},n,s,o){const{allNullValues:r,doc:i,indent:a,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:h}}=n;let f=W(t)&&t.comment||null;if(h){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Y(t)||!W(t)&&typeof t=="object"){const R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let u=!h&&(!t||f&&e==null&&!n.inFlow||Y(t)||(q(t)?t.type===x.BLOCK_FOLDED||t.type===x.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!u&&(h||!r),indent:a+l});let g=!1,p=!1,m=Kt(t,n,()=>g=!0,()=>p=!0);if(!u&&!n.inFlow&&m.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(n.inFlow){if(r||e==null)return g&&s&&s(),m===""?"?":u?`? ${m}`:m}else if(r&&!h||e==null&&u)return m=`? ${m}`,f&&!g?m+=at(m,n.indent,c(f)):p&&o&&o(),m;g&&(f=null),u?(f&&(m+=at(m,n.indent,c(f))),m=`? ${m}
${a}:`):(m=`${m}:`,f&&(m+=at(m,n.indent,c(f))));let y,v,w;W(e)?(y=!!e.spaceBefore,v=e.commentBefore,w=e.comment):(y=!1,v=null,w=null,e&&typeof e=="object"&&(e=i.createNode(e))),n.implicitKey=!1,!u&&!f&&q(e)&&(n.indentAtStart=m.length+1),p=!1,!d&&l.length>=2&&!n.inFlow&&!u&&Bn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let b=!1;const k=Kt(e,n,()=>b=!0,()=>p=!0);let P=" ";if(f||y||v){if(P=y?`
`:"",v){const R=c(v);P+=`
${kt(R,n.indent)}`}k===""&&!n.inFlow?P===`
`&&(P=`

`):P+=`
${n.indent}`}else if(!u&&Y(e)){const R=k[0],V=k.indexOf(`
`),K=V!==-1,le=n.inFlow??e.flow??e.items.length===0;if(K||!le){let Z=!1;if(K&&(R==="&"||R==="!")){let L=k.indexOf(" ");R==="&"&&L!==-1&&L<V&&k[L+1]==="!"&&(L=k.indexOf(" ",L+1)),(L===-1||V<L)&&(Z=!0)}Z||(P=`
${n.indent}`)}}else(k===""||k[0]===`
`)&&(P="");return m+=P+k,n.inFlow?b&&s&&s():w&&!b?m+=at(m,n.indent,c(w)):p&&o&&o(),m}function Cl(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Et="<<",pn={identify:t=>t===Et||typeof t=="symbol"&&t.description===Et,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new x(Symbol(Et)),{addToJSMap:jo}),stringify:()=>Et},Pl=(t,e)=>(pn.identify(e)||q(e)&&(!e.type||e.type===x.PLAIN)&&pn.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===pn.tag&&n.default);function jo(t,e,n){if(n=t&&et(n)?n.resolve(t.doc):n,Bn(n))for(const s of n.items)gn(t,e,s);else if(Array.isArray(n))for(const s of n)gn(t,e,s);else gn(t,e,n)}function gn(t,e,n){const s=t&&et(n)?n.resolve(t.doc):n;if(!Co(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,t,Map);for(const[r,i]of o)e instanceof Map?e.has(r)||e.set(r,i):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:i,writable:!0,enumerable:!0,configurable:!0});return e}function No(t,e,{key:n,value:s}){if(W(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(Pl(t,n))jo(t,e,s);else{const o=oe(n,"",t);if(e instanceof Map)e.set(o,oe(s,o,t));else if(e instanceof Set)e.add(o);else{const r=Dl(n,o,t),i=oe(s,r,t);r in e?Object.defineProperty(e,r,{value:i,writable:!0,enumerable:!0,configurable:!0}):e[r]=i}}return e}function Dl(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(W(t)&&n?.doc){const s=$l(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(o);r.length>40&&(r=r.substring(0,36)+'..."'),Cl(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(e)}function Kn(t,e,n){const s=Wt(t,void 0,n),o=Wt(e,void 0,n);return new ae(s,o)}class ae{constructor(e,n=null){Object.defineProperty(this,re,{value:Lo}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return W(n)&&(n=n.clone(e)),W(s)&&(s=s.clone(e)),new ae(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return No(n,s,this)}toString(e,n,s){return e?.doc?Ll(this,e,n,s):JSON.stringify(this)}}function Ho(t,e,n){return(e.inFlow??t.flow?Il:Rl)(t,e,n)}function Rl({comment:t,items:e},n,{blockItemPrefix:s,flowChars:o,itemIndent:r,onChompKeep:i,onComment:a}){const{indent:l,options:{commentString:c}}=n,d=Object.assign({},n,{indent:r,type:null});let h=!1;const f=[];for(let g=0;g<e.length;++g){const p=e[g];let m=null;if(W(p))!h&&p.spaceBefore&&f.push(""),Ut(n,f,p.commentBefore,h),p.comment&&(m=p.comment);else if(z(p)){const v=W(p.key)?p.key:null;v&&(!h&&v.spaceBefore&&f.push(""),Ut(n,f,v.commentBefore,h))}h=!1;let y=Kt(p,d,()=>m=null,()=>h=!0);m&&(y+=at(y,r,c(m))),h&&m&&(h=!1),f.push(s+y)}let u;if(f.length===0)u=o.start+o.end;else{u=f[0];for(let g=1;g<f.length;++g){const p=f[g];u+=p?`
${l}${p}`:`
`}}return t?(u+=`
`+kt(c(t),l),a&&a()):h&&i&&i(),u}function Il({items:t},e,{flowChars:n,itemIndent:s}){const{indent:o,indentStep:r,flowCollectionPadding:i,options:{commentString:a}}=e;s+=r;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,d=0;const h=[];for(let g=0;g<t.length;++g){const p=t[g];let m=null;if(W(p))p.spaceBefore&&h.push(""),Ut(e,h,p.commentBefore,!1),p.comment&&(m=p.comment);else if(z(p)){const v=W(p.key)?p.key:null;v&&(v.spaceBefore&&h.push(""),Ut(e,h,v.commentBefore,!1),v.comment&&(c=!0));const w=W(p.value)?p.value:null;w?(w.comment&&(m=w.comment),w.commentBefore&&(c=!0)):p.value==null&&v?.comment&&(m=v.comment)}m&&(c=!0);let y=Kt(p,l,()=>m=null);g<t.length-1&&(y+=","),m&&(y+=at(y,s,a(m))),!c&&(h.length>d||y.includes(`
`))&&(c=!0),h.push(y),d=h.length}const{start:f,end:u}=n;if(h.length===0)return f+u;if(!c){const g=h.reduce((p,m)=>p+m.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=f;for(const p of h)g+=p?`
${r}${o}${p}`:`
`;return`${g}
${o}${u}`}else return`${f}${i}${h.join(" ")}${i}${u}`}function Ut({indent:t,options:{commentString:e}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const r=kt(e(s),t);n.push(r.trimStart())}}function Ze(t,e){const n=q(e)?e.value:e;for(const s of t)if(z(s)&&(s.key===e||s.key===n||q(s.key)&&s.key.value===n))return s}class st extends Io{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Xe,e),this.items=[]}static from(e,n,s){const{keepUndefined:o,replacer:r}=s,i=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(n,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||o)&&i.items.push(Kn(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&i.items.sort(e.sortMapEntries),i}add(e,n){let s;z(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new ae(e,e?.value):s=new ae(e.key,e.value);const o=Ze(this.items,s.key),r=this.schema?.sortMapEntries;if(o){if(!n)throw new Error(`Key ${s.key} already set`);q(o.value)&&Ro(s.value)?o.value.value=s.value:o.value=s.value}else if(r){const i=this.items.findIndex(a=>r(s,a)<0);i===-1?this.items.push(s):this.items.splice(i,0,s)}else this.items.push(s)}delete(e){const n=Ze(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const o=Ze(this.items,e)?.value;return(!n&&q(o)?o.value:o)??void 0}has(e){return!!Ze(this.items,e)}set(e,n){this.add(new ae(e,n),!0)}toJSON(e,n,s){const o=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(o);for(const r of this.items)No(n,o,r);return o}toString(e,n,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!z(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Ho(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}class qo extends Io{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(St,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Lt(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Lt(e);if(typeof s!="number")return;const o=this.items[s];return!n&&q(o)?o.value:o}has(e){const n=Lt(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Lt(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];q(o)&&Ro(n)?o.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let o=0;for(const r of this.items)s.push(oe(r,String(o++),n));return s}toString(e,n,s){return e?Ho(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:o}=s,r=new this(e);if(n&&Symbol.iterator in Object(n)){let i=0;for(let a of n){if(typeof o=="function"){const l=n instanceof Set?a:String(i++);a=o.call(n,l,a)}r.items.push(Wt(a,void 0,s))}}return r}}function Lt(t){let e=q(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function xl(t,e,n){const{replacer:s}=n,o=new qo(t);o.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let i of e){typeof s=="function"&&(i=s.call(e,String(r++),i));let a,l;if(Array.isArray(i))if(i.length===2)a=i[0],l=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){const c=Object.keys(i);if(c.length===1)a=c[0],l=i[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=i;o.items.push(Kn(a,l,n))}return o}class Un extends qo{constructor(){super(),this.add=st.prototype.add.bind(this),this.delete=st.prototype.delete.bind(this),this.get=st.prototype.get.bind(this),this.has=st.prototype.has.bind(this),this.set=st.prototype.set.bind(this),this.tag=Un.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const o of this.items){let r,i;if(z(o)?(r=oe(o.key,"",n),i=oe(o.value,r,n)):r=oe(o,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,i)}return s}static from(e,n,s){const o=xl(e,n,s),r=new this;return r.items=o.items,r}}Un.tag="tag:yaml.org,2002:omap";class Jn extends st{constructor(e){super(e),this.tag=Jn.tag}add(e){let n;z(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new ae(e.key,null):n=new ae(e,null),Ze(this.items,n.key)||this.items.push(n)}get(e,n){const s=Ze(this.items,e);return!n&&z(s)?q(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Ze(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new ae(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:o}=s,r=new this(e);if(n&&Symbol.iterator in Object(n))for(let i of n)typeof o=="function"&&(i=o.call(n,i,i)),r.items.push(Kn(i,null,s));return r}}Jn.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function Gn(t=5){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=n.length;for(let o=0;o<t;o++)e.push(n.charAt(Math.floor(Math.random()*s)));return e.join("")}function Su(t,e,n,s){const o=So(e+n-1,t);for(let r=0;r<e;r++){const i=s(r),a=o.includes(r+n);for(const l of i)l.classList.toggle("slidev-code-highlighted",a),l.classList.toggle("slidev-code-dishonored",!a),l.classList.toggle("highlighted",a),l.classList.toggle("dishonored",!a)}}function Vo(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!1})}const ue=T({});let jl=[],Nl=[];te(ue,"$syncUp",!0);te(ue,"$syncDown",!0);te(ue,"$paused",!1);te(ue,"$onSet",t=>jl.push(t));te(ue,"$onPatch",t=>Nl.push(t));Vo();te(ue,"$patch",async()=>!1);const Hl={channels:[],enabled:!0,init(t,e,n,s=!1){let o;if(!s)o=new BroadcastChannel(t),o.addEventListener("message",r=>e(r.data)),this.channels.push(o);else if(s){this.listener=function(i){i&&i.key===t&&i.newValue&&e(JSON.parse(i.newValue))},window.addEventListener("storage",this.listener);const r=window.localStorage.getItem(t);r&&e(JSON.parse(r))}return(r,i=!1)=>{this.enabled&&(!s&&o&&!i&&o.postMessage(go(r)),s&&!i&&window.localStorage.setItem(t,JSON.stringify(r)))}},disable(){this.enabled=!1,this.channels.forEach(t=>t.close()),this.listener&&window.removeEventListener("storage",this.listener)}},ql=T([Hl]),Vl=new Map,Zs=C({});function Fo(t,e,n=!1){const s=[];let o=!1,r=!1,i,a;const l=T(e);function c(u){s.push(u)}function d(u,g){l[u]!==g&&(clearTimeout(i),o=!0,l[u]=g,i=setTimeout(()=>o=!1,0))}function h(u){o||(clearTimeout(a),r=!0,Object.entries(u).forEach(([g,p])=>{l[g]=p}),a=setTimeout(()=>r=!1,0))}function f(u){Vl.set(u,{onUpdate:h,persist:n,state:l}),Zs.value[u]=ql.map(p=>p.init(u,h,l,n)).filter(p=>!!p);function g(){Zs.value[u].forEach(p=>p?.(go(l),r)),o||s.forEach(p=>p(l))}ee(l,g,{deep:!0})}return{init:f,onPatch:c,onUpdate:h,patch:d,state:l}}const{init:Fl,onPatch:Mu,patch:Tu,state:Ou}=Fo(ue,ue,!1),tt=T({page:0,clicks:0});let zl=[],Bl=[];te(tt,"$syncUp",!0);te(tt,"$syncDown",!0);te(tt,"$paused",!1);te(tt,"$onSet",t=>zl.push(t));te(tt,"$onPatch",t=>Bl.push(t));Vo();te(tt,"$patch",async()=>!1);const{init:Wl,onPatch:Kl,patch:Ct,state:$u}=Fo(tt,{page:1,clicks:0,clicksTotal:0});function Ul(){const t=co().appContext.app,e=T({nav:dt(),configs:j,themeConfigs:_(()=>j.themeConfig)});t.provide(qn,C("none")),t.provide(Ga,e),t.provide(Hn,_(()=>e.nav.currentSlideNo)),t.provide(Xt,Nn(mi()));for(const f of Vr)f();const{clicksContext:n,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:r,isPresenter:i,isPrintMode:a}=dt();hi({title:ln,htmlAttrs:j.htmlAttrs}),pl(),Wl(`${ln} - shared`),Fl(`${ln} - drawings`);const l=`${location.origin}_${Gn()}`,c=_(()=>i.value?"presenter":"viewer");function d(){(i.value?At.value.presenterSend:At.value.viewerSend)&&(r.value||a.value||!i.value&&!Za.includes(location.host.split(":")[0])||(Ct("page",+s.value),Ct("clicks",n.value.current),Ct("clicksTotal",n.value.total),Ct("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const h=Yt();h.afterEach(d),ee(n,d),Kl(f=>{(i.value?At.value.presenterReceive:At.value.viewerReceive)&&(!o.value||a.value||f.lastUpdate?.type!==c.value&&(+f.page==+s.value&&+n.value.current==+f.clicks||(Vn.value=!1,h.replace({path:rt(f.page,i.value),query:{...h.currentRoute.value.query,clicks:f.clicks||0}}))))})}const Jl=fo({__name:"App",setup(t){return Ul(),ct(()=>{for(const[e,n]of Object.entries(qr.value))document.body.style.setProperty(e,n.toString())}),(e,n)=>{const s=Sr("RouterView");return Vt(),kr(s)}}}),Gl=[];async function zo(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async o=>{const r=new Map,i=new Promise(u=>{t.resolveTags().then(g=>{u(g.map(p=>{const m=r.get(p._d)||0,y={tag:p,id:(m?`${p._d}:${m}`:p._d)||os(p),shouldRender:!0};return p._d&&wo(p._d)&&r.set(p._d,m+1),y}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const u of["body","head"]){const g=n[u]?.children;for(const p of g){const m=p.tagName.toLowerCase();if(!ss.has(m))continue;const y=bo({tag:m,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((v,w)=>(v[w]=p.getAttribute(w),v),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=Tn(y)||os(y),a.elMap.has(y._d)){let v=1,w=y._d;for(;a.elMap.has(w);)w=`${y._d}:${v++}`;a.elMap.set(w,p)}else a.elMap.set(y._d,p)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(u,g,p){const m=`${u}:${g}`;a.sideEffects[m]=p,delete a.pendingSideEffects[m]}function c({id:u,$el:g,tag:p}){const m=p.tag.endsWith("Attrs");a.elMap.set(u,g),m||(p.textContent&&p.textContent!==g.textContent&&(g.textContent=p.textContent),p.innerHTML&&p.innerHTML!==g.innerHTML&&(g.innerHTML=p.innerHTML),l(u,"el",()=>{g?.remove(),a.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const v=p.props[y];if(y.startsWith("on")&&typeof v=="function"){const b=g?.dataset;if(b&&b[`${y}fired`]){const k=y.slice(0,-5);v.call(g,new Event(k.substring(2)))}g.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?n.defaultView:g).addEventListener(y.substring(2),v.bind(g)),g.setAttribute(`data-${y}`,""));continue}const w=`attr:${y}`;if(y==="class"){if(!v)continue;for(const b of v)m&&l(u,`${w}:${b}`,()=>g.classList.remove(b)),!g.classList.contains(b)&&g.classList.add(b)}else if(y==="style"){if(!v)continue;for(const[b,k]of v)l(u,`${w}:${b}`,()=>{g.style.removeProperty(b)}),g.style.setProperty(b,k)}else v!==!1&&v!==null&&(g.getAttribute(y)!==v&&g.setAttribute(y,v===!0?"":String(v)),m&&l(u,w,()=>g.removeAttribute(y)))}}const d=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await i;for(const u of f){const{tag:g,shouldRender:p,id:m}=u;if(p){if(g.tag==="title"){n.title=g.textContent,l("title","",()=>n.title=a.title);continue}u.$el=u.$el||a.elMap.get(m),u.$el?c(u):ss.has(g.tag)&&d.push(u)}}for(const u of d){const g=u.tag.tagPosition||"head";u.$el=n.createElement(u.tag.tag),c(u),h[g]=h[g]||n.createDocumentFragment(),h[g].appendChild(u.$el)}for(const u of f)await t.hooks.callHook("dom:renderTag",u,n,l);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const u in a.pendingSideEffects)a.pendingSideEffects[u]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:f}),o()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Ql(t={}){const e=t.domOptions?.render||zo;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ci({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function Yl(t,e){let n=0;return()=>{const s=++n;e(()=>{n===s&&t()})}}function Zl(t={}){const e=Ql({domOptions:{render:Yl(()=>zo(e),n=>setTimeout(n,0))},...t});return e.install=di(e),e}function Au(t,e=""){const n=["slidev-page",e],s=t?.meta?.slide?.no;return s!=null&&n.push(`slidev-page-${s}`),n.filter(Boolean).join(" ")}async function Eu(){const{saveAs:t}=await M(async()=>{const{saveAs:e}=await import("./modules/file-saver-B7oFTzqn.js").then(n=>n.F);return{saveAs:e}},[]);t(typeof j.download=="string"?j.download:j.exportFilename?`${j.exportFilename}.pdf`:"/esigelec/3/slidev-exported.pdf",`${j.title}.pdf`)}function ut(t,e,n){return(t.instance?.$).provides[e]??n}function Xl(){return{install(t){t.directive("click",{name:"v-click",mounted(e,n){const s=Ht(e,n,n.value);s!=null&&(e.classList.toggle(Rt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=ct(()=>{const o=s.isActive.value,r=s.isCurrent.value,i=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?gt:pt,o),e.classList.toggle(un,o)):e.classList.toggle(s.flagFade?gt:pt,!o),e.classList.toggle(dn,r),e.classList.toggle(fn,i)}))},unmounted:mn}),t.directive("after",{name:"v-after",mounted(e,n){const s=Ht(e,n,"+0");s!=null&&(e.classList.toggle(Rt,!0),e.watchStopHandle=ct(()=>{const o=s.isActive.value,r=s.isCurrent.value,i=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?gt:pt,o),e.classList.toggle(un,o)):e.classList.toggle(s.flagFade?gt:pt,!o),e.classList.toggle(dn,r),e.classList.toggle(fn,i)}))},unmounted:mn}),t.directive("click-hide",{name:"v-click-hide",mounted(e,n){const s=Ht(e,n,n.value,!0);s!=null&&(e.classList.toggle(Rt,!0),e.watchStopHandle=ct(()=>{const o=s.isActive.value,r=s.isCurrent.value,i=o&&!r;e.classList.toggle(s.flagFade?gt:pt,o),e.classList.toggle(un,o),e.classList.toggle(dn,r),e.classList.toggle(fn,i)}))},unmounted:mn})}}}const Bo=new Map;function Ht(t,e,n,s=!1){const o=ut(e,Xt)?.value;if(!t||!o)return null;const r=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,i=e.modifiers.fade!==!1&&e.modifiers.fade!=null,a=o.calculate(n);if(!a)return null;o.register(t,a);const l=_(()=>r?!a.isActive.value:a.isActive.value),c=_(()=>l.value?"shown":Number.isFinite(a.end)?o.current<a.start?"before":"after":r?"after":"before"),d={...a,isShown:l,visibilityState:c,flagFade:i,flagHide:r};return Bo.set(t,d),d}function mn(t,e){t.classList.toggle(Rt,!1),ut(e,Xt)?.value?.unregister(t),t.watchStopHandle?.()}function ec(t=lo(Mo,C())){const e=Mr(t),n=ee([il,al,ll,cl,rl,zt.width,zt.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:n}}function tc(t){return()=>{}}function nc(t,e,n,s=!1){function o(N){return t?ut(t,N):Or(N)}const r=o(qn),i=o(Qa)??{},a=o(Hn),l=_(()=>tc(a.value)),c=o(Ja)??C(1),d=o(Ya)??C(1),{left:h,top:f,stop:u}=ec(o(Mo)??C()),{isPrintMode:g}=dt(),p=["slide","presenter"].includes(r.value)&&!g.value;let m=t?"directive":"prop",y=Gn(),v;if(Array.isArray(e)?v=e:typeof e=="string"&&e.includes(",")?v=e.split(",").map(Number):e!=null&&(m="frontmatter",y=`${e}`,e=i?.dragPos?.[y],v=e?.split(",").map(Number)),m!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const w=[u],b=!s&&e!=null&&!Number.isFinite(v?.[3]);v??=[Number.NaN,Number.NaN,0];const k=C(v[2]),P=C(v[0]+v[2]/2),R=C(s?0:v[4]??0),V=_(()=>R.value*Math.PI/180),K=_(()=>Math.sin(V.value)),le=_(()=>Math.cos(V.value)),Z=C(),L=C({left:0,top:0,width:0,height:0}),D=C(0);function F(){if(!Z.value)return;const N=Z.value.getBoundingClientRect();L.value={left:N.left/d.value,top:N.top/d.value,width:N.width/d.value,height:N.height/d.value},D.value=(L.value.width+L.value.height)/c.value/(Math.abs(K.value)+Math.abs(le.value))-k.value}w.push(ee(k,F,{flush:"post"}));const H=C(v[3]??0),I=b?_({get:()=>(b?D.value:H.value)||0,set:N=>!b&&(H.value=N)}):H,ie=b?C(v[1]):C(v[1]+v[3]/2),ce=b?_({get:()=>ie.value+I.value/2,set:N=>ie.value=N-I.value/2}):ie,ft=_(()=>Number.isFinite(P.value)?{position:"absolute",zIndex:100,left:`${P.value-k.value/2}px`,top:`${ce.value-I.value/2}px`,width:`${k.value}px`,height:b?void 0:`${I.value}px`,transformOrigin:"center center",transform:`rotate(${R.value}deg)`}:{position:"absolute",zIndex:100});w.push(ee([P,ce,k,I,R],([N,Tt,Zn,Xn,es])=>{let nt=[N-Zn/2,Tt-Xn/2,Zn].map(Math.round).join();b?nt+=m==="directive"?",NaN":",_":nt+=`,${Math.round(Xn)}`,Math.round(es)!==0&&(nt+=`,${Math.round(es)}`),m==="directive"&&(nt=`[${nt}]`),l.value(y,nt,m,n)}));const G={dragId:y,dataSource:m,markdownSource:n,isArrow:s,zoom:d,autoHeight:b,x0:P,y0:ce,width:k,height:I,rotate:R,container:Z,containerStyle:ft,watchStopHandles:w,dragging:_(()=>Ot.value===G),mounted(){p&&(F(),e||setTimeout(()=>{F(),P.value=(L.value.left+L.value.width/2-h.value)/c.value,ce.value=(L.value.top-f.value)/c.value,k.value=L.value.width/c.value,I.value=L.value.height/c.value},100))},unmounted(){p&&G.stopDragging()},startDragging(){p&&(F(),Ot.value=G)},stopDragging(){p&&Ot.value===G&&(Ot.value=null)}};return w.push(Tr(Z,N=>{const Tt=document.querySelector("#drag-control-container");Tt&&N.target&&Tt.contains(N.target)||G.stopDragging()}),ee($r(),N=>{N||G.stopDragging()})),G}function sc(){return{install(t){t.directive("drag",{name:"v-drag",created(e,n,s){const o=nc(n,n.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,r=>{for(const[i,a]of Object.entries(r))a&&(e.style[i]=a)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const n=e.draggingState;n.unmounted(),e.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(s=>s())}})}}}function Wo(){return Math.floor(Math.random()*2**31)}class oc{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function Cn(t,e,n){if(t&&t.length){const[s,o]=e,r=Math.PI/180*n,i=Math.cos(r),a=Math.sin(r);for(const l of t){const[c,d]=l;l[0]=(c-s)*i-(d-o)*a+s,l[1]=(c-s)*a+(d-o)*i+o}}}function rc(t,e,n){const s=[];t.forEach(o=>s.push(...o)),Cn(s,e,n)}function ic(t,e){return t[0]===e[0]&&t[1]===e[1]}function ac(t,e,n,s=1){const o=n,r=Math.max(e,.1),i=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(o)for(const c of i)Cn(c,a,o);const l=lc(i,r,s);if(o){for(const c of i)Cn(c,a,-o);rc(l,a,-o)}return l}function lc(t,e,n){const s=[];for(const c of t){const d=[...c];ic(d[0],d[d.length-1])||d.push([d[0][0],d[0][1]]),d.length>2&&s.push(d)}const o=[];e=Math.max(e,.1);const r=[];for(const c of s)for(let d=0;d<c.length-1;d++){const h=c[d],f=c[d+1];if(h[1]!==f[1]){const u=Math.min(h[1],f[1]);r.push({ymin:u,ymax:Math.max(h[1],f[1]),x:u===h[1]?h[0]:f[0],islope:(f[0]-h[0])/(f[1]-h[1])})}}if(r.sort((c,d)=>c.ymin<d.ymin?-1:c.ymin>d.ymin?1:c.x<d.x?-1:c.x>d.x?1:c.ymax===d.ymax?0:(c.ymax-d.ymax)/Math.abs(c.ymax-d.ymax)),!r.length)return o;let i=[],a=r[0].ymin,l=0;for(;i.length||r.length;){if(r.length){let c=-1;for(let h=0;h<r.length&&!(r[h].ymin>a);h++)c=h;r.splice(0,c+1).forEach(h=>{i.push({s:a,edge:h})})}if(i=i.filter(c=>!(c.edge.ymax<=a)),i.sort((c,d)=>c.edge.x===d.edge.x?0:(c.edge.x-d.edge.x)/Math.abs(c.edge.x-d.edge.x)),(n!==1||l%e===0)&&i.length>1)for(let c=0;c<i.length;c=c+2){const d=c+1;if(d>=i.length)break;const h=i[c].edge,f=i[d].edge;o.push([[Math.round(h.x),a],[Math.round(f.x),a]])}a+=n,i.forEach(c=>{c.edge.x=c.edge.x+n*c.edge.islope}),l++}return o}function Mt(t,e){var n;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let r=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(r=o),ac(t,o,s,r||1)}class Qn{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const s=Mt(e,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(e,n){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return s}}function an(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class cc extends Qn{fillPolygons(e,n){let s=n.hachureGap;s<0&&(s=n.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},n,{hachureGap:s}),r=Mt(e,o),i=Math.PI/180*n.hachureAngle,a=[],l=s*.5*Math.cos(i),c=s*.5*Math.sin(i);for(const[h,f]of r)an([h,f])&&a.push([[h[0]-l,h[1]+c],[...f]],[[h[0]+l,h[1]-c],[...f]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}}class uc extends Qn{fillPolygons(e,n){const s=this._fillPolygons(e,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),r=this._fillPolygons(e,o);return s.ops=s.ops.concat(r.ops),s}}class dc{constructor(e){this.helper=e}fillPolygons(e,n){n=Object.assign({},n,{hachureAngle:0});const s=Mt(e,n);return this.dotsOnLines(s,n)}dotsOnLines(e,n){const s=[];let o=n.hachureGap;o<0&&(o=n.strokeWidth*4),o=Math.max(o,.1);let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=o/4;for(const a of e){const l=an(a),c=l/o,d=Math.ceil(c)-1,h=l-d*o,f=(a[0][0]+a[1][0])/2-o/4,u=Math.min(a[0][1],a[1][1]);for(let g=0;g<d;g++){const p=u+h+g*o,m=f-i+Math.random()*2*i,y=p-i+Math.random()*2*i,v=this.helper.ellipse(m,y,r,r,n);s.push(...v.ops)}}return{type:"fillSketch",ops:s}}}class fc{constructor(e){this.helper=e}fillPolygons(e,n){const s=Mt(e,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(e,n){const s=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,r=[];return e.forEach(i=>{const a=an(i),l=Math.floor(a/(s+o)),c=(a+o-l*(s+o))/2;let d=i[0],h=i[1];d[0]>h[0]&&(d=i[1],h=i[0]);const f=Math.atan((h[1]-d[1])/(h[0]-d[0]));for(let u=0;u<l;u++){const g=u*(s+o),p=g+s,m=[d[0]+g*Math.cos(f)+c*Math.cos(f),d[1]+g*Math.sin(f)+c*Math.sin(f)],y=[d[0]+p*Math.cos(f)+c*Math.cos(f),d[1]+p*Math.sin(f)+c*Math.sin(f)];r.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n))}}),r}}class hc{constructor(e){this.helper=e}fillPolygons(e,n){const s=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,o=n.zigzagOffset<0?s:n.zigzagOffset;n=Object.assign({},n,{hachureGap:s+o});const r=Mt(e,n);return{type:"fillSketch",ops:this.zigzagLines(r,o,n)}}zigzagLines(e,n,s){const o=[];return e.forEach(r=>{const i=an(r),a=Math.round(i/(2*n));let l=r[0],c=r[1];l[0]>c[0]&&(l=r[1],c=r[0]);const d=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<a;h++){const f=h*2*n,u=(h+1)*2*n,g=Math.sqrt(2*Math.pow(n,2)),p=[l[0]+f*Math.cos(d),l[1]+f*Math.sin(d)],m=[l[0]+u*Math.cos(d),l[1]+u*Math.sin(d)],y=[p[0]+g*Math.cos(d+Math.PI/4),p[1]+g*Math.sin(d+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],s))}}),o}}const U={};function pc(t,e){let n=t.fillStyle||"hachure";if(!U[n])switch(n){case"zigzag":U[n]||(U[n]=new cc(e));break;case"cross-hatch":U[n]||(U[n]=new uc(e));break;case"dots":U[n]||(U[n]=new dc(e));break;case"dashed":U[n]||(U[n]=new fc(e));break;case"zigzag-line":U[n]||(U[n]=new hc(e));break;case"hachure":default:n="hachure",U[n]||(U[n]=new Qn(e));break}return U[n]}const gc=0,Pn=1,Ko=2,Pt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function mc(t){const e=new Array;for(;t!=="";)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:gc,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:Pn,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:Ko,text:""},e}function yn(t,e){return t.type===e}function Yn(t){const e=[],n=mc(t);let s="BOD",o=0,r=n[o];for(;!yn(r,Ko);){let i=0;const a=[];if(s==="BOD")if(r.text==="M"||r.text==="m")o++,i=Pt[r.text],s=r.text;else return Yn("M0,0"+t);else yn(r,Pn)?i=Pt[s]:(o++,i=Pt[r.text],s=r.text);if(o+i<n.length){for(let l=o;l<o+i;l++){const c=n[l];if(yn(c,Pn))a[a.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof Pt[s]=="number"){const l={key:s,data:a};e.push(l),o+=i,r=n[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function Uo(t){let e=0,n=0,s=0,o=0;const r=[];for(const{key:i,data:a}of t)switch(i){case"M":r.push({key:"M",data:[...a]}),[e,n]=a,[s,o]=a;break;case"m":e+=a[0],n+=a[1],r.push({key:"M",data:[e,n]}),s=e,o=n;break;case"L":r.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],r.push({key:"L",data:[e,n]});break;case"C":r.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const l=a.map((c,d)=>d%2?c+n:c+e);r.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":r.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const l=a.map((c,d)=>d%2?c+n:c+e);r.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":r.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":r.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],r.push({key:"V",data:[n]});break;case"S":r.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const l=a.map((c,d)=>d%2?c+n:c+e);r.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":r.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],r.push({key:"T",data:[e,n]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=s,n=o;break}return r}function Jo(t){const e=[];let n="",s=0,o=0,r=0,i=0,a=0,l=0;for(const{key:c,data:d}of t){switch(c){case"M":e.push({key:"M",data:[...d]}),[s,o]=d,[r,i]=d;break;case"C":e.push({key:"C",data:[...d]}),s=d[4],o=d[5],a=d[2],l=d[3];break;case"L":e.push({key:"L",data:[...d]}),[s,o]=d;break;case"H":s=d[0],e.push({key:"L",data:[s,o]});break;case"V":o=d[0],e.push({key:"L",data:[s,o]});break;case"S":{let h=0,f=0;n==="C"||n==="S"?(h=s+(s-a),f=o+(o-l)):(h=s,f=o),e.push({key:"C",data:[h,f,...d]}),a=d[0],l=d[1],s=d[2],o=d[3];break}case"T":{const[h,f]=d;let u=0,g=0;n==="Q"||n==="T"?(u=s+(s-a),g=o+(o-l)):(u=s,g=o);const p=s+2*(u-s)/3,m=o+2*(g-o)/3,y=h+2*(u-h)/3,v=f+2*(g-f)/3;e.push({key:"C",data:[p,m,y,v,h,f]}),a=u,l=g,s=h,o=f;break}case"Q":{const[h,f,u,g]=d,p=s+2*(h-s)/3,m=o+2*(f-o)/3,y=u+2*(h-u)/3,v=g+2*(f-g)/3;e.push({key:"C",data:[p,m,y,v,u,g]}),a=h,l=f,s=u,o=g;break}case"A":{const h=Math.abs(d[0]),f=Math.abs(d[1]),u=d[2],g=d[3],p=d[4],m=d[5],y=d[6];h===0||f===0?(e.push({key:"C",data:[s,o,m,y,m,y]}),s=m,o=y):(s!==m||o!==y)&&(Go(s,o,m,y,h,f,u,g,p).forEach(function(w){e.push({key:"C",data:w})}),s=m,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=r,o=i;break}n=c}return e}function yc(t){return Math.PI*t/180}function mt(t,e,n){const s=t*Math.cos(n)-e*Math.sin(n),o=t*Math.sin(n)+e*Math.cos(n);return[s,o]}function Go(t,e,n,s,o,r,i,a,l,c){const d=yc(i);let h=[],f=0,u=0,g=0,p=0;if(c)[f,u,g,p]=c;else{[t,e]=mt(t,e,-d),[n,s]=mt(n,s,-d);const L=(t-n)/2,D=(e-s)/2;let F=L*L/(o*o)+D*D/(r*r);F>1&&(F=Math.sqrt(F),o=F*o,r=F*r);const H=a===l?-1:1,I=o*o,ie=r*r,ce=I*ie-I*D*D-ie*L*L,ft=I*D*D+ie*L*L,G=H*Math.sqrt(Math.abs(ce/ft));g=G*o*D/r+(t+n)/2,p=G*-r*L/o+(e+s)/2,f=Math.asin(parseFloat(((e-p)/r).toFixed(9))),u=Math.asin(parseFloat(((s-p)/r).toFixed(9))),t<g&&(f=Math.PI-f),n<g&&(u=Math.PI-u),f<0&&(f=Math.PI*2+f),u<0&&(u=Math.PI*2+u),l&&f>u&&(f=f-Math.PI*2),!l&&u>f&&(u=u-Math.PI*2)}let m=u-f;if(Math.abs(m)>Math.PI*120/180){const L=u,D=n,F=s;l&&u>f?u=f+Math.PI*120/180*1:u=f+Math.PI*120/180*-1,n=g+o*Math.cos(u),s=p+r*Math.sin(u),h=Go(n,s,D,F,o,r,i,0,l,[u,L,g,p])}m=u-f;const y=Math.cos(f),v=Math.sin(f),w=Math.cos(u),b=Math.sin(u),k=Math.tan(m/4),P=4/3*o*k,R=4/3*r*k,V=[t,e],K=[t+P*v,e-R*y],le=[n+P*b,s-R*w],Z=[n,s];if(K[0]=2*V[0]-K[0],K[1]=2*V[1]-K[1],c)return[K,le,Z].concat(h);{h=[K,le,Z].concat(h);const L=[];for(let D=0;D<h.length;D+=3){const F=mt(h[D][0],h[D][1],d),H=mt(h[D+1][0],h[D+1][1],d),I=mt(h[D+2][0],h[D+2][1],d);L.push([F[0],F[1],H[0],H[1],I[0],I[1]])}return L}}const vc={randOffset:_c,randOffsetWithRange:kc,ellipse:Dn,doubleLineOps:Sc};function X(t,e,n,s,o){return{type:"path",ops:de(t,e,n,s,o)}}function _t(t,e,n){const s=(t||[]).length;if(s>2){const o=[];for(let r=0;r<s-1;r++)o.push(...de(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n));return e&&o.push(...de(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:o}}else if(s===2)return X(t[0][0],t[0][1],t[1][0],t[1][1],n);return{type:"path",ops:[]}}function wc(t,e){return _t(t,!0,e)}function Qo(t,e,n,s,o){const r=[[t,e],[t+n,e],[t+n,e+s],[t,e+s]];return wc(r,o)}function Xs(t,e){if(t.length){const s=typeof t[0][0]=="number"?[t]:t,o=Dt(s[0],1*(1+e.roughness*.2),e),r=e.disableMultiStroke?[]:Dt(s[0],1.5*(1+e.roughness*.22),no(e));for(let i=1;i<s.length;i++){const a=s[i];if(a.length){const l=Dt(a,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:Dt(a,1.5*(1+e.roughness*.22),no(e));for(const d of l)d.op!=="move"&&o.push(d);for(const d of c)d.op!=="move"&&r.push(d)}}return{type:"path",ops:o.concat(r)}}return{type:"path",ops:[]}}function Dn(t,e,n,s,o){const r=Yo(n,s,o);return Rn(t,e,o,r).opset}function Yo(t,e,n){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),r=Math.PI*2/o;let i=Math.abs(t/2),a=Math.abs(e/2);const l=1-n.curveFitting;return i+=S(i*l,n),a+=S(a*l,n),{increment:r,rx:i,ry:a}}function Rn(t,e,n,s){const[o,r]=so(s.increment,t,e,s.rx,s.ry,1,s.increment*Jt(.1,Jt(.4,1,n),n),n);let i=Gt(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=so(s.increment,t,e,s.rx,s.ry,1.5,0,n),l=Gt(a,null,n);i=i.concat(l)}return{estimatedPoints:r,opset:{type:"path",ops:i}}}function eo(t,e,n,s,o,r,i,a,l){const c=t,d=e;let h=Math.abs(n/2),f=Math.abs(s/2);h+=S(h*.01,l),f+=S(f*.01,l);let u=o,g=r;for(;u<0;)u+=Math.PI*2,g+=Math.PI*2;g-u>Math.PI*2&&(u=0,g=Math.PI*2);const p=Math.PI*2/l.curveStepCount,m=Math.min(p/2,(g-u)/2),y=oo(m,c,d,h,f,u,g,1,l);if(!l.disableMultiStroke){const v=oo(m,c,d,h,f,u,g,1.5,l);y.push(...v)}return i&&(a?y.push(...de(c,d,c+h*Math.cos(u),d+f*Math.sin(u),l),...de(c,d,c+h*Math.cos(g),d+f*Math.sin(g),l)):y.push({op:"lineTo",data:[c,d]},{op:"lineTo",data:[c+h*Math.cos(u),d+f*Math.sin(u)]})),{type:"path",ops:y}}function to(t,e){const n=Jo(Uo(Yn(t))),s=[];let o=[0,0],r=[0,0];for(const{key:i,data:a}of n)switch(i){case"M":{r=[a[0],a[1]],o=[a[0],a[1]];break}case"L":s.push(...de(r[0],r[1],a[0],a[1],e)),r=[a[0],a[1]];break;case"C":{const[l,c,d,h,f,u]=a;s.push(...Mc(l,c,d,h,f,u,r,e)),r=[f,u];break}case"Z":s.push(...de(r[0],r[1],o[0],o[1],e)),r=[o[0],o[1]];break}return{type:"path",ops:s}}function vn(t,e){const n=[];for(const s of t)if(s.length){const o=e.maxRandomnessOffset||0,r=s.length;if(r>2){n.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let i=1;i<r;i++)n.push({op:"lineTo",data:[s[i][0]+S(o,e),s[i][1]+S(o,e)]})}}return{type:"fillPath",ops:n}}function ot(t,e){return pc(e,vc).fillPolygons(t,e)}function bc(t,e,n,s,o,r,i){const a=t,l=e;let c=Math.abs(n/2),d=Math.abs(s/2);c+=S(c*.01,i),d+=S(d*.01,i);let h=o,f=r;for(;h<0;)h+=Math.PI*2,f+=Math.PI*2;f-h>Math.PI*2&&(h=0,f=Math.PI*2);const u=(f-h)/i.curveStepCount,g=[];for(let p=h;p<=f;p=p+u)g.push([a+c*Math.cos(p),l+d*Math.sin(p)]);return g.push([a+c*Math.cos(f),l+d*Math.sin(f)]),g.push([a,l]),ot([g],i)}function _c(t,e){return S(t,e)}function kc(t,e,n){return Jt(t,e,n)}function Sc(t,e,n,s,o){return de(t,e,n,s,o,!0)}function no(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function Zo(t){return t.randomizer||(t.randomizer=new oc(t.seed||0)),t.randomizer.next()}function Jt(t,e,n,s=1){return n.roughness*s*(Zo(n)*(e-t)+t)}function S(t,e,n=1){return Jt(-t,t,e,n)}function de(t,e,n,s,o,r=!1){const i=r?o.disableMultiStrokeFill:o.disableMultiStroke,a=In(t,e,n,s,o,!0,!1);if(i)return a;const l=In(t,e,n,s,o,!0,!0);return a.concat(l)}function In(t,e,n,s,o,r,i){const a=Math.pow(t-n,2)+Math.pow(e-s,2),l=Math.sqrt(a);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let d=o.maxRandomnessOffset||0;d*d*100>a&&(d=l/10);const h=d/2,f=.2+Zo(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,g=o.bowing*o.maxRandomnessOffset*(t-n)/200;u=S(u,o,c),g=S(g,o,c);const p=[],m=()=>S(h,o,c),y=()=>S(d,o,c),v=o.preserveVertices;return i?p.push({op:"move",data:[t+(v?0:m()),e+(v?0:m())]}):p.push({op:"move",data:[t+(v?0:S(d,o,c)),e+(v?0:S(d,o,c))]}),i?p.push({op:"bcurveTo",data:[u+t+(n-t)*f+m(),g+e+(s-e)*f+m(),u+t+2*(n-t)*f+m(),g+e+2*(s-e)*f+m(),n+(v?0:m()),s+(v?0:m())]}):p.push({op:"bcurveTo",data:[u+t+(n-t)*f+y(),g+e+(s-e)*f+y(),u+t+2*(n-t)*f+y(),g+e+2*(s-e)*f+y(),n+(v?0:y()),s+(v?0:y())]}),p}function Dt(t,e,n){if(!t.length)return[];const s=[];s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]),s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]);for(let o=1;o<t.length;o++)s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]),o===t.length-1&&s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]);return Gt(s,null,n)}function Gt(t,e,n){const s=t.length,o=[];if(s>3){const r=[],i=1-n.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<s;a++){const l=t[a];r[0]=[l[0],l[1]],r[1]=[l[0]+(i*t[a+1][0]-i*t[a-1][0])/6,l[1]+(i*t[a+1][1]-i*t[a-1][1])/6],r[2]=[t[a+1][0]+(i*t[a][0]-i*t[a+2][0])/6,t[a+1][1]+(i*t[a][1]-i*t[a+2][1])/6],r[3]=[t[a+1][0],t[a+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}}else s===3?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&o.push(...In(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return o}function so(t,e,n,s,o,r,i,a){const l=a.roughness===0,c=[],d=[];if(l){t=t/4,d.push([e+s*Math.cos(-t),n+o*Math.sin(-t)]);for(let h=0;h<=Math.PI*2;h=h+t){const f=[e+s*Math.cos(h),n+o*Math.sin(h)];c.push(f),d.push(f)}d.push([e+s*Math.cos(0),n+o*Math.sin(0)]),d.push([e+s*Math.cos(t),n+o*Math.sin(t)])}else{const h=S(.5,a)-Math.PI/2;d.push([S(r,a)+e+.9*s*Math.cos(h-t),S(r,a)+n+.9*o*Math.sin(h-t)]);const f=Math.PI*2+h-.01;for(let u=h;u<f;u=u+t){const g=[S(r,a)+e+s*Math.cos(u),S(r,a)+n+o*Math.sin(u)];c.push(g),d.push(g)}d.push([S(r,a)+e+s*Math.cos(h+Math.PI*2+i*.5),S(r,a)+n+o*Math.sin(h+Math.PI*2+i*.5)]),d.push([S(r,a)+e+.98*s*Math.cos(h+i),S(r,a)+n+.98*o*Math.sin(h+i)]),d.push([S(r,a)+e+.9*s*Math.cos(h+i*.5),S(r,a)+n+.9*o*Math.sin(h+i*.5)])}return[d,c]}function oo(t,e,n,s,o,r,i,a,l){const c=r+S(.1,l),d=[];d.push([S(a,l)+e+.9*s*Math.cos(c-t),S(a,l)+n+.9*o*Math.sin(c-t)]);for(let h=c;h<=i;h=h+t)d.push([S(a,l)+e+s*Math.cos(h),S(a,l)+n+o*Math.sin(h)]);return d.push([e+s*Math.cos(i),n+o*Math.sin(i)]),d.push([e+s*Math.cos(i),n+o*Math.sin(i)]),Gt(d,null,l)}function Mc(t,e,n,s,o,r,i,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let d=[0,0];const h=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let u=0;u<h;u++)u===0?l.push({op:"move",data:[i[0],i[1]]}):l.push({op:"move",data:[i[0]+(f?0:S(c[0],a)),i[1]+(f?0:S(c[0],a))]}),d=f?[o,r]:[o+S(c[u],a),r+S(c[u],a)],l.push({op:"bcurveTo",data:[t+S(c[u],a),e+S(c[u],a),n+S(c[u],a),s+S(c[u],a),d[0],d[1]]});return l}function yt(t){return[...t]}function ro(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const s=[];if(n===3)s.push(yt(t[0]),yt(t[1]),yt(t[2]),yt(t[2]));else{const o=[];o.push(t[0],t[0]);for(let a=1;a<t.length;a++)o.push(t[a]),a===t.length-1&&o.push(t[a]);const r=[],i=1-e;s.push(yt(o[0]));for(let a=1;a+2<o.length;a++){const l=o[a];r[0]=[l[0],l[1]],r[1]=[l[0]+(i*o[a+1][0]-i*o[a-1][0])/6,l[1]+(i*o[a+1][1]-i*o[a-1][1])/6],r[2]=[o[a+1][0]+(i*o[a][0]-i*o[a+2][0])/6,o[a+1][1]+(i*o[a][1]-i*o[a+2][1])/6],r[3]=[o[a+1][0],o[a+1][1]],s.push(r[1],r[2],r[3])}}return s}function Tc(t,e){return Math.sqrt(qt(t,e))}function qt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Oc(t,e,n){const s=qt(e,n);if(s===0)return qt(t,e);let o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),qt(t,Ye(e,n,o))}function Ye(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function $c(t,e){const n=t[e+0],s=t[e+1],o=t[e+2],r=t[e+3];let i=3*s[0]-2*n[0]-r[0];i*=i;let a=3*s[1]-2*n[1]-r[1];a*=a;let l=3*o[0]-2*r[0]-n[0];l*=l;let c=3*o[1]-2*r[1]-n[1];return c*=c,i<l&&(i=l),a<c&&(a=c),i+a}function xn(t,e,n,s){const o=s||[];if($c(t,e)<n){const r=t[e+0];o.length?Tc(o[o.length-1],r)>1&&o.push(r):o.push(r),o.push(t[e+3])}else{const i=t[e+0],a=t[e+1],l=t[e+2],c=t[e+3],d=Ye(i,a,.5),h=Ye(a,l,.5),f=Ye(l,c,.5),u=Ye(d,h,.5),g=Ye(h,f,.5),p=Ye(u,g,.5);xn([i,d,u,p],0,n,o),xn([p,g,f,c],0,n,o)}return o}function Ac(t,e){return Qt(t,0,t.length,e)}function Qt(t,e,n,s,o){const r=o||[],i=t[e],a=t[n-1];let l=0,c=1;for(let d=e+1;d<n-1;++d){const h=Oc(t[d],i,a);h>l&&(l=h,c=d)}return Math.sqrt(l)>s?(Qt(t,e,c+1,s,r),Qt(t,c,n,s,r)):(r.length||r.push(i),r.push(a)),r}function jn(t,e=.15,n){const s=[],o=(t.length-1)/3;for(let r=0;r<o;r++){const i=r*3;xn(t,i,e,s)}return n&&n>0?Qt(s,0,s.length,n):s}function Ec(t,e,n){const s=Yn(t),o=Jo(Uo(s)),r=[];let i=[],a=[0,0],l=[];const c=()=>{l.length>=4&&i.push(...jn(l,e)),l=[]},d=()=>{c(),i.length&&(r.push(i),i=[])};for(const{key:f,data:u}of o)switch(f){case"M":d(),a=[u[0],u[1]],i.push(a);break;case"L":c(),i.push([u[0],u[1]]);break;case"C":if(!l.length){const g=i.length?i[i.length-1]:a;l.push([g[0],g[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),i.push([a[0],a[1]]);break}if(d(),!n)return r;const h=[];for(const f of r){const u=Ac(f,n);u.length&&h.push(u)}return h}const Q="none";class Lc{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Wo()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,s){return{shape:e,sets:n||[],options:s||this.defaultOptions}}line(e,n,s,o,r){const i=this._o(r);return this._d("line",[X(e,n,s,o,i)],i)}rectangle(e,n,s,o,r){const i=this._o(r),a=[],l=Qo(e,n,s,o,i);if(i.fill){const c=[[e,n],[e+s,n],[e+s,n+o],[e,n+o]];i.fillStyle==="solid"?a.push(vn([c],i)):a.push(ot([c],i))}return i.stroke!==Q&&a.push(l),this._d("rectangle",a,i)}ellipse(e,n,s,o,r){const i=this._o(r),a=[],l=Yo(s,o,i),c=Rn(e,n,i,l);if(i.fill)if(i.fillStyle==="solid"){const d=Rn(e,n,i,l).opset;d.type="fillPath",a.push(d)}else a.push(ot([c.estimatedPoints],i));return i.stroke!==Q&&a.push(c.opset),this._d("ellipse",a,i)}circle(e,n,s,o){const r=this.ellipse(e,n,s,s,o);return r.shape="circle",r}linearPath(e,n){const s=this._o(n);return this._d("linearPath",[_t(e,!1,s)],s)}arc(e,n,s,o,r,i,a=!1,l){const c=this._o(l),d=[],h=eo(e,n,s,o,r,i,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const u=eo(e,n,s,o,r,i,!0,!1,f);u.type="fillPath",d.push(u)}else d.push(bc(e,n,s,o,r,i,c));return c.stroke!==Q&&d.push(h),this._d("arc",d,c)}curve(e,n){const s=this._o(n),o=[],r=Xs(e,s);if(s.fill&&s.fill!==Q)if(s.fillStyle==="solid"){const i=Xs(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{const i=[],a=e;if(a.length){const c=typeof a[0][0]=="number"?[a]:a;for(const d of c)d.length<3?i.push(...d):d.length===3?i.push(...jn(ro([d[0],d[0],d[1],d[2]]),10,(1+s.roughness)/2)):i.push(...jn(ro(d),10,(1+s.roughness)/2))}i.length&&o.push(ot([i],s))}return s.stroke!==Q&&o.push(r),this._d("curve",o,s)}polygon(e,n){const s=this._o(n),o=[],r=_t(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(vn([e],s)):o.push(ot([e],s))),s.stroke!==Q&&o.push(r),this._d("polygon",o,s)}path(e,n){const s=this._o(n),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=s.fill&&s.fill!=="transparent"&&s.fill!==Q,i=s.stroke!==Q,a=!!(s.simplification&&s.simplification<1),l=a?4-4*(s.simplification||1):(1+s.roughness)/2,c=Ec(e,1,l),d=to(e,s);if(r)if(s.fillStyle==="solid")if(c.length===1){const h=to(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else o.push(vn(c,s));else o.push(ot(c,s));return i&&(a?c.forEach(h=>{o.push(_t(h,!1,s))}):o.push(d)),this._d("path",o,s)}opsToPath(e,n){let s="";for(const o of e.ops){const r=typeof n=="number"&&n>=0?o.data.map(i=>+i.toFixed(n)):o.data;switch(o.op){case"move":s+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}return s.trim()}toPaths(e){const n=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const r of n){let i=null;switch(r.type){case"path":i={d:this.opsToPath(r),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Q};break;case"fillPath":i={d:this.opsToPath(r),stroke:Q,strokeWidth:0,fill:s.fill||Q};break;case"fillSketch":i=this.fillSketch(r,s);break}i&&o.push(i)}return o}fillSketch(e,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Q,strokeWidth:s,fill:Q}}_mergedShape(e){return e.filter((n,s)=>s===0?!0:n.op!=="move")}}const Xo="http://www.w3.org/2000/svg",Cc=800;let wn=null;function Pc(){return wn||(wn=new Lc().defaultOptions),wn}function bn(t,e,n){return{...Pc(),maxRandomnessOffset:2,roughness:t==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:t!=="double",disableMultiStrokeFill:!1,seed:e,...n}}function Dc(t){const e=t.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const n=e;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function Rc(t,e,n,s,o,r){const i=[];let a=n.strokeWidth||2;const l=Dc(n),c=n.animate===void 0?!0:!!n.animate,d=n.iterations||2,h=n.rtl?1:0,f=bn("single",r,n);switch(n.type){case"underline":{const u=e.y+e.h+l[2];for(let g=h;g<d+h;g++)g%2?i.push(X(e.x+e.w,u,e.x,u,f)):i.push(X(e.x,u,e.x+e.w,u,f));break}case"strike-through":{const u=e.y+e.h/2;for(let g=h;g<d+h;g++)g%2?i.push(X(e.x+e.w,u,e.x,u,f)):i.push(X(e.x,u,e.x+e.w,u,f));break}case"box":{const u=e.x-l[3],g=e.y-l[0],p=e.w+(l[1]+l[3]),m=e.h+(l[0]+l[2]);for(let y=0;y<d;y++)i.push(Qo(u,g,p,m,f));break}case"bracket":{const u=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],g=e.x-l[3]*2,p=e.x+e.w+l[1]*2,m=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const v of u){let w;switch(v){case"bottom":w=[[g,e.y+e.h],[g,y],[p,y],[p,e.y+e.h]];break;case"top":w=[[g,e.y],[g,m],[p,m],[p,e.y]];break;case"left":w=[[e.x,m],[g,m],[g,y],[e.x,y]];break;case"right":w=[[e.x+e.w,m],[p,m],[p,y],[e.x+e.w,y]];break}w&&i.push(_t(w,!1,f))}break}case"crossed-off":{const u=e.x,g=e.y,p=u+e.w,m=g+e.h;for(let y=h;y<d+h;y++)y%2?i.push(X(p,m,u,g,f)):i.push(X(u,g,p,m,f));for(let y=h;y<d+h;y++)y%2?i.push(X(u,m,p,g,f)):i.push(X(p,g,u,m,f));break}case"circle":{const u=bn("double",r,n),g=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),m=e.x-l[3]+g/2,y=e.y-l[0]+p/2,v=Math.floor(d/2),w=d-v*2;for(let b=0;b<v;b++)i.push(Dn(m,y,g,p,u));for(let b=0;b<w;b++)i.push(Dn(m,y,g,p,f));break}case"highlight":{const u=bn("highlight",r,n);a=e.h*.95;const g=e.y+e.h/2;for(let p=h;p<d+h;p++)p%2?i.push(X(e.x+e.w,g,e.x,g,u)):i.push(X(e.x,g,e.x+e.w,g,u));break}}if(i.length){const u=Ic(i),g=[],p=[];let m=0;const y=(v,w,b)=>v.setAttribute(w,b);for(const v of u){const w=document.createElementNS(Xo,"path");if(y(w,"d",v),y(w,"fill","none"),y(w,"stroke",n.color||"currentColor"),y(w,"stroke-width",`${a}`),n.opacity!==void 0&&y(w,"style",`opacity:${n.opacity}`),c){const b=w.getTotalLength();g.push(b),m+=b}t.appendChild(w),p.push(w)}if(c){let v=0;for(let w=0;w<p.length;w++){const b=p[w],k=g[w],P=m?o*(k/m):0,R=s+v,V=b.style;V.strokeDashoffset=`${k}`,V.strokeDasharray=`${k}`,V.animation=`rough-notation-dash ${P}ms ease-out ${R}ms forwards`,v+=P}return io(o+s)}}return io(0)}function io(t){return new Promise(e=>setTimeout(e,t))}function Ic(t){const e=[];for(const n of t){let s="";for(const o of n.ops){const r=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function xc(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}var jc=Object.defineProperty,Nc=(t,e,n)=>e in t?jc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e,n)=>(Nc(t,typeof e!="symbol"?e+"":e,n),n);class Hc{constructor(e,n){ne(this,"_state","unattached"),ne(this,"_config"),ne(this,"_resizing",!1),ne(this,"_ro"),ne(this,"_seed",Wo()),ne(this,"_e"),ne(this,"_svg"),ne(this,"_lastSizes",[]),ne(this,"_animationDelay",0),ne(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ne(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,n){this._config[e]!==n&&(this._config[e]=n,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){xc();const e=this._svg=document.createElementNS(Xo,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=e.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const n of e)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let n=0;n<e.length;n++)if(!this.isSameRect(e[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(e,n){const s=(o,r)=>Math.round(o)===Math.round(r);return s(e.x,n.x)&&s(e.y,n.y)&&s(e.w,n.w)&&s(e.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,n){let s=this._config;n&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let r=0;o.forEach(c=>r+=c.w);const i=s.animationDuration||Cc;let a=0;const l=[];for(let c=0;c<o.length;c++){const d=o[c],h=i*(d.w/r);l.push(Rc(e,o[c],s,a+this._animationDelay+(this._config.delay||0),h,this._seed)),a+=h}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let s=0;s<n.length;s++)e.push(this.svgRect(this._svg,n[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,n){const s=e.getBoundingClientRect(),o=n;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function qc(t,e){return new Hc(t,e)}function J(t,e){return t.class=[t.class,e].filter(Boolean).join(" "),t}const ao={box:t=>Object.assign(t,{type:"box"}),circle:t=>Object.assign(t,{type:"circle"}),underline:t=>Object.assign(t,{type:"underline"}),highlight:t=>Object.assign(t,{type:"highlight"}),"strike-through":t=>Object.assign(t,{type:"strike-through"}),"crossed-off":t=>Object.assign(t,{type:"crossed-off"}),bracket:t=>Object.assign(t,{type:"bracket"}),strike:t=>Object.assign(t,{type:"strike-through"}),cross:t=>Object.assign(t,{type:"crossed-off"}),crossed:t=>Object.assign(t,{type:"crossed-off"}),linethrough:t=>Object.assign(t,{type:"strike-through"}),"line-through":t=>Object.assign(t,{type:"strike-through"}),black:t=>J(t,"text-black"),blue:t=>J(t,"text-blue"),cyan:t=>J(t,"text-cyan"),gray:t=>J(t,"text-gray"),green:t=>J(t,"text-green"),indigo:t=>J(t,"text-indigo"),lime:t=>J(t,"text-lime"),orange:t=>J(t,"text-orange"),pink:t=>J(t,"text-pink"),purple:t=>J(t,"text-purple"),red:t=>J(t,"text-red"),teal:t=>J(t,"text-teal"),white:t=>J(t,"text-white"),yellow:t=>J(t,"text-yellow")},Vc=[[/^delay-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||100;return e.opacity=s/100,e}]];function Fc(){return{install(t){t.directive("mark",{name:"v-mark",mounted:(e,n)=>{const{isPrintMode:s}=dt(),o=_(()=>{const a=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let l={at:a.at};const c=Object.entries(n.modifiers).filter(([h,f])=>{if(ao[h])return l=ao[h](l,f),!1;for(const[u,g]of Vc){const p=h.match(u);if(p)return l=g(p,l,f),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const d={...l,...a};return d.type||="underline",s.value&&(d.animationDuration=1),d}),r=qc(e,o.value),i=Ht(e,n,o.value.at);if(!i){r.show();return}e.watchStopHandle=ct(()=>{let a;o.value.class&&(r.class=o.value.class),o.value.color&&(r.color=o.value.color);const l=o.value.at;l===!0?a=!0:l===!1?a=!1:a=i.isActive.value,a!=null&&(a?r.show():r.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function zc(){return{install(t){const e=Ar();t.directive("motion",{name:"v-motion",mounted(n,s,o,r){const i=ut(s,Xt),a=ut(s,Hn),l=ut(s,qn),{currentPage:c,clicks:d,isPrintMode:h}=dt(),f=o.props={...o.props},u={...f.initial,...f.variants?.["slidev-initial"]},g={...f.enter,...f.variants?.["slidev-enter"]},p={...f.leave,...f.variants?.["slidev-leave"]};delete f.initial,delete f.enter,delete f.leave;const m=`${Gn()}-`,y=[];for(const w of Object.keys(f))if(w.startsWith("click-")){const b=w.slice(6),k=b.includes("-")?b.split("-").map(Number):+b,P=m+b;y.push({id:P,at:k,variant:{...f[w]},info:i?.value.calculate(k)}),delete f[w]}y.sort((w,b)=>(Array.isArray(w.at)?w.at[0]:w.at)-(Array.isArray(b.at)?b.at[0]:b.at)),e.created(n,s,o,r),e.mounted(n,s,o,r);const v=n.motionInstance;v.clickIds=y.map(w=>w.id),v.set(u),v.watchStopHandle=ee([a,c,d].filter(Boolean),()=>{const w=Bo.get(n)?.visibilityState.value??"shown";if(!i?.value||!["slide","presenter"].includes(l?.value??"")){const b={...u,...g};for(const{variant:k}of y)Object.assign(b,k);v.set(b)}else if(h.value||a?.value===c.value)if(w==="shown"){const b={...u,...g};for(const{variant:k,info:P}of y)(!P||P.isActive.value)&&Object.assign(b,k);h.value?v.set(b):v.apply(b)}else v.apply(w==="before"?u:p);else v.apply((a?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const Bc=[];function Wc(){const t=[];function e(n){if(!j.remote||j.remote===n.query.password)return!0;if(j.remote&&n.query.password===void 0){const s=prompt("Enter password");if(j.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return t.push({name:"entry",path:"/entry",component:()=>M(()=>import("./slidev/entry-CP2kAVbM.js"),__vite__mapDeps([55,1,3,4,56])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>M(()=>import("./slidev/overview-BaJr-ap4.js"),__vite__mapDeps([57,32,1,58,59,60,2,61,62,3,4])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>M(()=>import("./slidev/notes-m6wan2Jt.js"),__vite__mapDeps([63,1,58,59,62,3,4])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>M(()=>import("./slidev/presenter-D1e2jqcx.js"),__vite__mapDeps([64,1,60,2,61,65,32,62,3,4,66,58,59,67,68,69])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),t.push({name:"play",path:"/:no",component:()=>M(()=>import("./slidev/play-CaLIckNy.js"),__vite__mapDeps([70,1,60,2,61,65,32,62,3,4,66,71]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>M(()=>import("./slidev/404--5fpkxMq.js"),__vite__mapDeps([72,1,3,4,73]))}),Bc.reduce((n,s)=>s(n),t)}async function Kc(t){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const n=Er({history:Lr("/esigelec/3/"),routes:Wc()});t.use(n),t.use(Zl()),t.use(Xl()),t.use(Fc()),t.use(sc()),t.use(zc()),t.use(Pr,{container:"#twoslash-container"});const s={app:t,router:n};for(const o of Gl)await o(s)}async function Uc(){const t=Cr(Jl);await Kc(t),t.mount("#app")}Uc();export{Ou as $,Gs as A,Eo as B,It as C,ku as D,rt as E,Xa as F,mi as G,nu as H,Xc as I,Sn as J,ns as K,$t as L,il as M,Bt as N,wu as O,bu as P,mu as Q,gu as R,M as S,su as T,ou as U,uu as V,ul as W,$n as X,al as Y,en as Z,wi as _,Ja as a,Tu as a0,fu as a1,Mu as a2,te as a3,Vo as a4,Fo as a5,mo as a6,rl as a7,yo as a8,Hr as a9,Mo as aa,Au as ab,Yc as ac,Qc as ad,pu as ae,_u as af,Zc as ag,zt as ah,ru as ai,To as aj,At as ak,lu as al,Eu as am,vu as an,yu as ao,se as ap,ol as aq,ec as ar,cu as as,iu as at,Ot as au,au as av,hu as aw,Ya as b,Ga as c,Qa as d,qn as e,eu as f,Hn as g,Rt as h,Xt as i,dn as j,fn as k,tu as l,Gn as m,Vn as n,dt as o,ko as p,du as q,nl as r,$u as s,ln as t,hi as u,On as v,Rr as w,j as x,pt as y,Su as z};
